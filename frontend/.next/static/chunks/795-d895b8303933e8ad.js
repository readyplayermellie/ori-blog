(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{255:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(5155),r(7650),r(5744),r(589)},314:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var n={now:function(){return(n.delegate||Date).now()},delegate:void 0}},329:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},556:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(9249);function i(e,t,r,n,i){return new s(e,t,r,n,i)}var s=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,n.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null==(t=this.onFinalize)||t.call(this)}},t}(r(7110).vU)},575:(e,t,r)=>{"use strict";function n(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{o:()=>n})},647:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var n=r(9340);function i(e,t,r,i,{assignment:s}){if(!t.context)throw Error("Cannot assign to undefined `context`. Ensure that `context` is defined in the machine config.");let o={},a={context:t.context,event:r.event,spawn:function(e,{machine:t,context:r},i,s){return(o,a)=>{let u=((o,a)=>{if("string"!=typeof o)return(0,n.c)(o,{id:a?.id,parent:e.self,syncSnapshot:a?.syncSnapshot,input:a?.input,src:o,systemId:a?.systemId});{let u=(0,n.R)(t,o);if(!u)throw Error(`Actor logic '${o}' not implemented in machine '${t.id}'`);let c=(0,n.c)(u,{id:a?.id,parent:e.self,syncSnapshot:a?.syncSnapshot,input:"function"==typeof a?.input?a.input({context:r,event:i,self:e.self}):a?.input,src:o,systemId:a?.systemId});return s[c.id]=c,c}})(o,a);return s[u.id]=u,e.defer(()=>{u._processingStatus!==n.V.Stopped&&u.start()}),u}}(e,t,r.event,o),self:e.self,system:e.system},u={};if("function"==typeof s)u=s(a,i);else for(let e of Object.keys(s)){let t=s[e];u[e]="function"==typeof t?t(a,i):t}let c=Object.assign({},t.context,u);return[(0,n.W)(t,{context:c,children:Object.keys(o).length?{...t.children,...o}:t.children}),void 0,void 0]}function s(e){function t(e,t){}return t.type="xstate.assign",t.assignment=e,t.resolve=i,t}},781:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var n=r(9249),i=r(793),s=Array.isArray;function o(e){return(0,i.T)(function(t){return s(t)?e.apply(void 0,(0,n.fX)([],(0,n.zs)(t))):e(t)})}},793:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});var n=r(1125),i=r(556);function s(e,t){return(0,n.N)(function(r,n){var s=0;r.subscribe((0,i._)(n,function(r){n.next(e.call(t,r,s++))}))})}},873:(e,t,r)=>{"use strict";r.d(t,{h:()=>u});var n=r(8614),i=r(7173),s=r(9332),o=r(9549),a=r(6269);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,o.lI)(e),u=(0,o.R0)(e,1/0);return e.length?1===e.length?(0,i.Tg)(e[0]):(0,n.U)(u)((0,a.H)(e,r)):s.w}},898:(e,t,r)=>{"use strict";r.d(t,{H6:()=>p,OX:()=>u,SP:()=>s,Sx:()=>h});var n=r(9340);let i=new WeakMap;function s(e){return{config:e,start:(t,r)=>{let{self:n,system:s,emit:o}=r,a={receivers:void 0,dispose:void 0};i.set(n,a),a.dispose=e({input:t.input,system:s,self:n,sendBack:e=>{"stopped"!==n.getSnapshot().status&&n._parent&&s._relay(n,n._parent,e)},receive:e=>{a.receivers??=new Set,a.receivers.add(e)},emit:o})},transition:(e,t,r)=>{let s=i.get(r.self);return t.type===n.X?(e={...e,status:"stopped",error:void 0},s.dispose?.()):s.receivers?.forEach(e=>e(t)),e},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,input:t}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e}}let o="xstate.observable.error",a="xstate.observable.complete";function u(e){return{config:e,transition:(e,t)=>{if("active"!==e.status)return e;switch(t.type){case o:return{...e,status:"error",error:t.data,input:void 0,_subscription:void 0};case a:return{...e,status:"done",input:void 0,_subscription:void 0};case n.X:return e._subscription.unsubscribe(),{...e,status:"stopped",input:void 0,_subscription:void 0};default:return e}},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,context:void 0,input:t,_subscription:void 0}),start:(t,{self:r,system:n,emit:i})=>{"done"!==t.status&&(t._subscription=e({input:t.input,system:n,self:r,emit:i}).subscribe({next:e=>{r._parent&&n._relay(r,r._parent,e)},error:e=>{n._relay(r,r,{type:o,data:e})},complete:()=>{n._relay(r,r,{type:a})}}))},getPersistedSnapshot:({_subscription:e,...t})=>t,restoreSnapshot:e=>({...e,_subscription:void 0})}}let c="xstate.promise.resolve",l="xstate.promise.reject",f=new WeakMap;function h(e){return{config:e,transition:(e,t,r)=>{if("active"!==e.status)return e;switch(t.type){case c:{let r=t.data;return{...e,status:"done",output:r,input:void 0}}case l:return{...e,status:"error",error:t.data,input:void 0};case n.X:return f.get(r.self)?.abort(),{...e,status:"stopped",input:void 0};default:return e}},start:(t,{self:r,system:n,emit:i})=>{if("active"!==t.status)return;let s=new AbortController;f.set(r,s),Promise.resolve(e({input:t.input,system:n,self:r,signal:s.signal,emit:i})).then(e=>{"active"===r.getSnapshot().status&&(f.delete(r),n._relay(r,r,{type:c,data:e}))},e=>{"active"===r.getSnapshot().status&&(f.delete(r),n._relay(r,r,{type:l,data:e}))})},getInitialSnapshot:(e,t)=>({status:"active",output:void 0,error:void 0,input:t}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e}}let d=function(e,t){return{config:e,transition:(t,r,n)=>({...t,context:e(t.context,r,n)}),getInitialSnapshot:(e,r)=>({status:"active",output:void 0,error:void 0,context:"function"==typeof t?t({input:r}):t}),getPersistedSnapshot:e=>e,restoreSnapshot:e=>e}}(e=>void 0,void 0);function p(){return(0,n.c)(d)}},901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let n=r(8229)._(r(2115)).default.createContext(null)},920:(e,t,r)=>{"use strict";function n(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}r.d(t,{L:()=>n})},1058:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(5155);let i=(0,r(5028).default)(()=>r.e(499).then(r.bind(r,6499)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/SanityLiveStream.js")]},ssr:!1});function s(e){return(0,n.jsx)(i,{...e})}},1125:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(1208);function i(e){return function(t){if((0,n.T)(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},1193:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:n,width:i,quality:s}=e,o=s||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(n)+"&w="+i+"&q="+o+(n.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},1208:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e}r.d(t,{T:()=>n})},1501:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}r.d(t,{C:()=>a,Q:()=>l,u4:()=>n});var i={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},s={0:8203,1:8204,2:8205,3:65279},o=[,,,,].fill(String.fromCodePoint(s[0])).join("");function a(e,t,r="auto"){let n;return!0===r||"auto"===r&&(!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e))&&Date.parse(e)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(e))?e:`${e}${n=JSON.stringify(t),`${o}${Array.from(n).map(e=>{let t=e.charCodeAt(0);if(t>255)throw Error(`Only ASCII edit info can be encoded. Error attempting to encode ${n} on character ${e} (${t})`);return Array.from(t.toString(4).padStart(4,"0")).map(e=>String.fromCodePoint(s[e])).join("")}).join("")}`}`}Object.fromEntries(Object.entries(s).map(e=>e.reverse())),Object.fromEntries(Object.entries(i).map(e=>e.reverse()));var u=`${Object.values(i).map(e=>`\\u{${e.toString(16)}}`).join("")}`,c=RegExp(`[${u}]{4,}`,"gu");function l(e){var t,r;return e&&JSON.parse({cleaned:(t=JSON.stringify(e)).replace(c,""),encoded:(null==(r=t.match(c))?void 0:r[0])||""}.cleaned)}},2021:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(1208);function i(e){return e&&(0,n.T)(e.schedule)}},2135:(e,t,r)=>{"use strict";r.d(t,{t:()=>s});var n=r(7348),i=r(8124);function s(e,t,r){var s,o,a,u,c=!1;return e&&"object"==typeof e?(u=void 0===(s=e.bufferSize)?1/0:s,t=void 0===(o=e.windowTime)?1/0:o,c=void 0!==(a=e.refCount)&&a,r=e.scheduler):u=null!=e?e:1/0,(0,i.u)({connector:function(){return new n.m(u,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},2146:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(5262)},2284:(e,t,r)=>{"use strict";r.d(t,{B:()=>c});var n=r(9249),i=r(4354),s=r(3817),o=(0,r(8066).L)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),a=r(575),u=r(9833),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n.C6)(t,e),t.prototype.lift=function(e){var t=new l(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o},t.prototype.next=function(e){var t=this;(0,u.Y)(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,n.Ju)(t.currentObservers),o=s.next();!o.done;o=s.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;(0,u.Y)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,u.Y)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null==(e=this.observers)?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?s.Kn:(this.currentObservers=null,i.push(e),new s.yU(function(){t.currentObservers=null,(0,a.o)(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new i.c;return e.source=this,e},t.create=function(e,t){return new l(e,t)},t}(i.c),l=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,n.C6)(t,e),t.prototype.next=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.next)||r.call(t,e)},t.prototype.error=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.error)||r.call(t,e)},t.prototype.complete=function(){var e,t;null==(t=null==(e=this.destination)?void 0:e.complete)||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!=(r=null==(t=this.source)?void 0:t.subscribe(e))?r:s.Kn},t}(c)},2388:(e,t,r)=>{"use strict";r.d(t,{l:()=>s});var n=r(8541),i=r(1208);function s(e){return(0,i.T)(e[n.s])}},2464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return n}});let n=r(8229)._(r(2115)).default.createContext({})},2664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=r(9991),i=r(7102);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,i.hasBasePath)(r.pathname)}catch(e){return!1}}},2757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return s},formatWithValidation:function(){return a},urlObjectKeys:function(){return o}});let n=r(6966)._(r(8859)),i=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",o=e.pathname||"",a=e.hash||"",u=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),u&&"object"==typeof u&&(u=String(n.urlQueryToSearchParams(u)));let l=e.search||u&&"?"+u||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||i.test(s))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),l&&"?"!==l[0]&&(l="?"+l),""+s+c+(o=o.replace(/[?#]/g,encodeURIComponent))+(l=l.replace("#","%23"))+a}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return s(e)}},2789:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(4354),i=r(7173);function s(e){return new n.c(function(t){(0,i.Tg)(e()).subscribe(t)})}},2979:(e,t,r)=>{"use strict";r.d(t,{default:()=>rw});var n=r(5155);let i=!(typeof navigator>"u")&&"ReactNative"===navigator.product,s={timeout:i?6e4:12e4},o=function(e){let t={...s,..."string"==typeof e?{url:e}:e};if(t.timeout=function e(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;let r=Number(t);return isNaN(r)?e(s.timeout):{connect:r,socket:r}}(t.timeout),t.query){let{url:e,searchParams:r}=function(e){let t=e.indexOf("?");if(-1===t)return{url:e,searchParams:new URLSearchParams};let r=e.slice(0,t),n=e.slice(t+1);if(!i)return{url:r,searchParams:new URLSearchParams(n)};if("function"!=typeof decodeURIComponent)throw Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");let s=new URLSearchParams;for(let e of n.split("&")){let[t,r]=e.split("=");t&&s.append(a(t),a(r||""))}return{url:r,searchParams:s}}(t.url);for(let[n,i]of Object.entries(t.query)){if(void 0!==i)if(Array.isArray(i))for(let e of i)r.append(n,e);else r.append(n,i);let s=r.toString();s&&(t.url=`${e}?${s}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function a(e){return decodeURIComponent(e.replace(/\+/g," "))}let u=/^https?:\/\//i,c=function(e){if(!u.test(e.url))throw Error(`"${e.url}" is not a valid URL`)},l=["request","response","progress","error","abort"],f=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];var h,d,p=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(function(){if(d)return h;d=1;var e=function(e){return e.replace(/^\s+|\s+$/g,"")};return h=function(t){if(!t)return{};for(var r=Object.create(null),n=e(t).split("\n"),i=0;i<n.length;i++){var s,o=n[i],a=o.indexOf(":"),u=e(o.slice(0,a)).toLowerCase(),c=e(o.slice(a+1));typeof r[u]>"u"?r[u]=c:(s=r[u],"[object Array]"===Object.prototype.toString.call(s))?r[u].push(c):r[u]=[r[u],c]}return r}}());class y{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#e;#t;#r;#n={};#i;#s={};#o;open(e,t,r){this.#e=e,this.#t=t,this.#r="",this.readyState=1,this.onreadystatechange?.(),this.#i=void 0}abort(){this.#i&&this.#i.abort()}getAllResponseHeaders(){return this.#r}setRequestHeader(e,t){this.#n[e]=t}setInit(e,t=!0){this.#s=e,this.#o=t}send(e){let t="arraybuffer"!==this.responseType,r={...this.#s,method:this.#e,headers:this.#n,body:e};"function"==typeof AbortController&&this.#o&&(this.#i=new AbortController,"u">typeof EventTarget&&this.#i.signal instanceof EventTarget&&(r.signal=this.#i.signal)),"u">typeof document&&(r.credentials=this.withCredentials?"include":"omit"),fetch(this.#t,r).then(e=>(e.headers.forEach((e,t)=>{this.#r+=`${t}: ${e}\r
`}),this.status=e.status,this.statusText=e.statusText,this.readyState=3,this.onreadystatechange?.(),t?e.text():e.arrayBuffer())).then(e=>{"string"==typeof e?this.responseText=e:this.response=e,this.readyState=4,this.onreadystatechange?.()}).catch(e=>{"AbortError"!==e.name?this.onerror?.(e):this.onabort?.()})}}let g="function"==typeof XMLHttpRequest?"xhr":"fetch",v="xhr"===g?XMLHttpRequest:y,m=(e,t)=>{let r=e.options,n=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:g,context:e});if(s){let e=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(e)}}let o=new v;o instanceof y&&"object"==typeof n.fetch&&o.setInit(n.fetch,n.useAbortSignal??!0);let a=n.headers,u=n.timeout,c=!1,l=!1,f=!1;if(o.onerror=e=>{m(o instanceof y?e instanceof Error?e:Error(`Request error while attempting to reach is ${n.url}`,{cause:e}):Error(`Request error while attempting to reach is ${n.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},o.ontimeout=e=>{m(Error(`Request timeout while attempting to reach ${n.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},o.onabort=()=>{d(!0),c=!0},o.onreadystatechange=function(){u&&(d(),i.socket=setTimeout(()=>h("ESOCKETTIMEDOUT"),u.socket)),!c&&o&&4===o.readyState&&0!==o.status&&function(){if(!(c||l||f)){if(0===o.status)return m(Error("Unknown XHR error"));d(),l=!0,t(null,{body:o.response||(""===o.responseType||"text"===o.responseType?o.responseText:""),url:n.url,method:n.method,headers:p(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(let e in a)a.hasOwnProperty(e)&&o.setRequestHeader(e,a[e]);return n.rawBody&&(o.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:g,request:o,context:e}),o.send(n.body||null),u&&(i.connect=setTimeout(()=>h("ETIMEDOUT"),u.connect)),{abort:function(){c=!0,o&&o.abort()}};function h(t){f=!0,o.abort();let r=Error("ESOCKETTIMEDOUT"===t?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);r.code=t,e.channels.error.publish(r)}function d(e){(e||c||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function m(e){if(l)return;d(!0),l=!0,o=null;let r=e||Error(`Network error while attempting to reach ${n.url}`);r.isNetworkError=!0,r.request=n,t(r)}};var b,w,_,E,x,S=r(7358),C=r(4134).hp,T={exports:{}};x||(x=1,function(e,t){let r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!e&&"u">typeof S&&"env"in S&&(e=S.env.DEBUG),e},t.useColors=function(){let e;return"u">typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("u">typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"u">typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"u">typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),r=!1,t.destroy=()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(E?_:(E=1,_=function(e){function t(e){let n,i,s,o=null;function a(...e){if(!a.enabled)return;let r=Number(new Date);a.diff=r-(n||r),a.prev=n,a.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";i++;let s=t.formatters[n];if("function"==typeof s){let t=e[i];r=s.call(a,t),e.splice(i,1),i--}return r}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){let n=t(this.namespace+(typeof r>"u"?":":r)+e);return n.log=this.log,n}function n(e,t){let r=0,n=0,i=-1,s=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,s=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++s}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let r of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(let r of t.skips)if(n(e,r))return!1;for(let r of t.names)if(n(e,r))return!0;return!1},t.humanize=function(){if(w)return b;w=1;function e(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}return b=function(t,r){r=r||{};var n,i,s=typeof t;if("string"===s&&t.length>0){var o=t;if(!((o=String(o)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(a){var u=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*u;case"weeks":case"week":case"w":return 6048e5*u;case"days":case"day":case"d":return 864e5*u;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*u;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*u;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u}}}return}if("number"===s&&isFinite(t))return r.long?(i=Math.abs(t))>=864e5?e(t,i,864e5,"day"):i>=36e5?e(t,i,36e5,"hour"):i>=6e4?e(t,i,6e4,"minute"):i>=1e3?e(t,i,1e3,"second"):t+" ms":(n=Math.abs(t))>=864e5?Math.round(t/864e5)+"d":n>=36e5?Math.round(t/36e5)+"h":n>=6e4?Math.round(t/6e4)+"m":n>=1e3?Math.round(t/1e3)+"s":t+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}}(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}))(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(T,T.exports)),T.exports,Object.prototype.hasOwnProperty;let I=typeof C>"u"?()=>!1:e=>C.isBuffer(e);function R(e){return"[object Object]"===Object.prototype.toString.call(e)}let O=["boolean","string","number"],j={};"u">typeof globalThis?j=globalThis:"u">typeof window?j=window:"u">typeof global?j=global:"u">typeof self&&(j=self);var A=j;let k=(e={})=>{let t=e.implementation||Promise;if(!t)throw Error("`Promise` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new t((t,i)=>{let s=n.options.cancelToken;s&&s.promise.then(e=>{r.abort.publish(e),i(e)}),r.error.subscribe(i),r.response.subscribe(r=>{t(e.onlyBody?r.body:r)}),setTimeout(()=>{try{r.request.publish(n)}catch(e){i(e)}},0)})}};class ${__CANCEL__=!0;message;constructor(e){this.message=e}toString(){return"Cancel"+(this.message?`: ${this.message}`:"")}}class q{promise;reason;constructor(e){if("function"!=typeof e)throw TypeError("executor must be a function.");let t=null;this.promise=new Promise(e=>{t=e}),e(e=>{this.reason||(this.reason=new $(e),t(this.reason))})}static source=()=>{let e;return{token:new q(t=>{e=t}),cancel:e}}}k.Cancel=$,k.CancelToken=q,k.isCancel=e=>!(!e||!e?.__CANCEL__);var P=(e,t,r)=>("GET"===r.method||"HEAD"===r.method)&&(e.isNetworkError||!1);function U(e){return 100*Math.pow(2,e)+100*Math.random()}let M=(e={})=>(e=>{let t=e.maxRetries||5,r=e.retryDelay||U,n=e.shouldRetry;return{onError:(e,i)=>{var s;let o=i.options,a=o.maxRetries||t,u=o.retryDelay||r,c=o.shouldRetry||n,l=o.attemptNumber||0;if(null!==(s=o.body)&&"object"==typeof s&&"function"==typeof s.pipe||!c(e,l,o)||l>=a)return e;let f=Object.assign({},i,{options:Object.assign({},o,{attemptNumber:l+1})});return setTimeout(()=>i.channels.request.publish(f),u(l)),null}}})({shouldRetry:P,...e});M.shouldRetry=P;var N=r(4354),D=r(2789),L=r(1208),B=r(9549),F=r(6269);function z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,B.lI)(e);return(0,F.H)(e,r)}var V=r(9953),W=(0,r(8066).L)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function H(e,t){var r="object"==typeof t;return new Promise(function(n,i){var s,o=!1;e.subscribe({next:function(e){s=e,o=!0},error:i,complete:function(){o?n(s):r?n(t.defaultValue):i(new W)}})})}var J=r(2135),G=r(7173),X=r(556),Y=r(1125);function K(e){return(0,Y.N)(function(t,r){var n,i=null,s=!1;i=t.subscribe((0,X._)(r,void 0,void 0,function(o){n=(0,G.Tg)(e(o,K(e)(t))),i?(i.unsubscribe(),i=null,n.subscribe(r)):s=!0})),s&&(i.unsubscribe(),i=null,n.subscribe(r))})}var Q=r(8614);function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,Q.U)(1)((0,F.H)(e,(0,B.lI)(e)))}var ee=r(5340),et=new(r(7608)).q(ee.R);function er(e,t){var r=(0,L.T)(e)?e:function(){return e},n=function(e){return e.error(r())};return new N.c(t?function(e){return t.schedule(n,0,e)}:n)}r(2021);var en=r(8906);function ei(e){return(0,Y.N)(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}var es=r(8124),eo=r(873),ea=r(9332),eu=r(793),ec=r(7110);function el(e,t){var r="object"==typeof t;return new Promise(function(n,i){var s=new ec.Ms({next:function(e){n(e),s.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new W)}});e.subscribe(s)})}var ef=r(1501),eh=r(9249),ed=r(4962);function ep(e,t,r){e?(0,ed.N)(r,e,t):t()}var ey=Array.isArray,eg=r(781),ev=r(8580);function em(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,B.ms)(e);return r?(0,ev.F)(em.apply(void 0,(0,eh.fX)([],(0,eh.zs)(e))),(0,eg.I)(r)):(0,Y.N)(function(t,r){var n,i,s;(n=(0,eh.fX)([t],(0,eh.zs)(1===e.length&&ey(e[0])?e[0]:e)),void 0===s&&(s=en.D),function(e){ep(void 0,function(){for(var t=n.length,r=Array(t),o=t,a=t,u=function(t){ep(i,function(){var u=(0,F.H)(n[t],i),c=!1;u.subscribe((0,X._)(e,function(n){r[t]=n,!c&&(c=!0,a--),a||e.next(s(r.slice()))},function(){--o||e.complete()}))},e)},c=0;c<t;c++)u(c)},e)})(r)})}var eb=r(9647),ew=r(6814);let e_=e=>crypto.getRandomValues(new Uint8Array(e)),eE=/\r\n|[\n\r\u2028\u2029]/;function ex(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n].length+1;if(r+i>e)return{line:n+1,column:e-r};r+=i}return{line:t.length,column:t[t.length-1]?.length??0}}class eS extends Error{response;statusCode=400;responseBody;details;constructor(e,t){let r=eT(e,t);super(r.message),Object.assign(this,r)}}class eC extends Error{response;statusCode=500;responseBody;details;constructor(e){let t=eT(e);super(t.message),Object.assign(this,t)}}function eT(e,t){var r,n,i;let s=e.body,o={response:e,statusCode:e.statusCode,responseBody:(r=s,-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(r,null,2):r),message:"",details:void 0};if(!(0,ef.u4)(s))return o.message=eO(e,s),o;let a=s.error;if("string"==typeof a&&"string"==typeof s.message)return o.message=`${a} - ${s.message}`,o;if("object"!=typeof a||null===a)return"string"==typeof a?o.message=a:"string"==typeof s.message?o.message=s.message:o.message=eO(e,s),o;if("type"in(n=a)&&"mutationError"===n.type&&"description"in n&&"string"==typeof n.description||"type"in(i=a)&&"actionError"===i.type&&"description"in i&&"string"==typeof i.description){let e=a.items||[],t=e.slice(0,5).map(e=>e.error?.description).filter(Boolean),r=t.length?`:
- ${t.join(`
- `)}`:"";return e.length>5&&(r+=`
...and ${e.length-5} more`),o.message=`${a.description}${r}`,o.details=s.error,o}return eI(a)?(o.message=eR(a,t?.options?.query?.tag),o.details=s.error):"description"in a&&"string"==typeof a.description?(o.message=a.description,o.details=a):o.message=eO(e,s),o}function eI(e){return(0,ef.u4)(e)&&"queryParseError"===e.type&&"string"==typeof e.query&&"number"==typeof e.start&&"number"==typeof e.end}function eR(e,t){let{query:r,start:n,end:i,description:s}=e;if(!r||typeof n>"u")return`GROQ query parse error: ${s}`;let o=t?`

Tag: ${t}`:"";return`GROQ query parse error:
${function(e,t,r){let n=e.split(eE),{start:i,end:s,markerLines:o}=function(e,t){let r={...e.start},n={...r,...e.end},i=r.line??-1,s=r.column??0,o=n.line,a=n.column,u=Math.max(i-3,0),c=Math.min(t.length,o+3);-1===i&&(u=0),-1===o&&(c=t.length);let l=o-i,f={};if(l)for(let e=0;e<=l;e++){let r=e+i;if(s)if(0===e){let e=t[r-1].length;f[r]=[s,e-s+1]}else if(e===l)f[r]=[0,a];else{let n=t[r-e].length;f[r]=[0,n]}else f[r]=!0}else s===a?s?f[i]=[s,0]:f[i]=!0:f[i]=[s,a-s];return{start:u,end:c,markerLines:f}}({start:ex(t.start,n),end:t.end?ex(t.end,n):void 0},n),a=`${s}`.length;return e.split(eE,s).slice(i,s).map((e,t)=>{let n=i+1+t,s=` ${` ${n}`.slice(-a)} |`,u=o[n],c=!o[n+1];if(!u)return` ${s}${e.length>0?` ${e}`:""}`;let l="";if(Array.isArray(u)){let t=e.slice(0,Math.max(u[0]-1,0)).replace(/[^\t]/g," "),n=u[1]||1;l=[`
 `,s.replace(/\d/g," ")," ",t,"^".repeat(n)].join(""),c&&r&&(l+=" "+r)}return[">",s,e.length>0?` ${e}`:"",l].join("")}).join(`
`)}(r,{start:n,end:i},s)}${o}`}function eO(e,t){var r,n;let i="string"==typeof t?` (${n=100,(r=t).length>100?`${r.slice(0,n)}\u2026`:r})`:"",s=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${s}${i}`}class ej extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;let t=new URL(`https://sanity.io/manage/project/${e}/api`);if("u">typeof location){let{origin:e}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",e),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}}let eA={onResponse:(e,t)=>{if(e.statusCode>=500)throw new eC(e);if(e.statusCode>=400)throw new eS(e,t);return e}};function ek(e,t={}){return((e=[],t=m)=>(function e(t,r){let n=[],i=f.reduce((e,t)=>(e[t]=e[t]||[],e),{processOptions:[o],validateOptions:[c]});function s(e){let t,n=l.reduce((e,t)=>(e[t]=function(){let e=Object.create(null),t=0;return{publish:function(t){for(let r in e)e[r](t)},subscribe:function(r){let n=t++;return e[n]=r,function(){delete e[n]}}}}(),e),{}),s=function(e,t,...r){let n="onError"===e,s=t;for(let t=0;t<i[e].length&&(s=(0,i[e][t])(s,...r),!n||s);t++);return s},o=s("processOptions",e);s("validateOptions",o);let a={options:o,channels:n,applyMiddleware:s},u=n.request.subscribe(e=>{t=r(e,(t,r)=>((e,t,r)=>{let i=e,o=t;if(!i)try{o=s("onResponse",t,r)}catch(e){o=null,i=e}(i=i&&s("onError",i,r))?n.error.publish(i):o&&n.response.publish(o)})(t,r,e))});n.abort.subscribe(()=>{u(),t&&t.abort()});let c=s("onReturn",n,a);return c===n&&n.request.publish(a),c}return s.use=function(e){if(!e)throw Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&i.onReturn.length>0)throw Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return f.forEach(t=>{e[t]&&i[t].push(e[t])}),n.push(e),s},s.clone=()=>e(n,r),t.forEach(s.use),s})(e,t))([M({shouldRetry:e$}),...e,function(e={}){let t={},r=t=>void 0!==e.ignoreWarnings&&(Array.isArray(e.ignoreWarnings)?e.ignoreWarnings:[e.ignoreWarnings]).some(e=>"string"==typeof e?t.includes(e):e instanceof RegExp&&e.test(t));return{onResponse:e=>{let n=e.headers["x-sanity-warning"];for(let e of Array.isArray(n)?n:[n])!e||t[e]||r(e)||(t[e]=!0,console.warn(e));return e}}}(t),{processOptions:e=>{let t=e.body;return!t||"function"==typeof t.pipe||I(t)||-1===O.indexOf(typeof t)&&!Array.isArray(t)&&!function(e){if(!1===R(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==R(r)&&!1!==r.hasOwnProperty("isPrototypeOf")}(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}},{onResponse:e=>{let t=e.headers["content-type"]||"",r=-1!==t.indexOf("application/json");return e.body&&t&&r?Object.assign({},e,{body:function(e){try{return JSON.parse(e)}catch(e){throw e.message=`Failed to parsed response body as JSON: ${e.message}`,e}}(e.body)}):e},processOptions:e=>Object.assign({},e,{headers:Object.assign({Accept:"application/json"},e.headers)})},{onRequest:e=>{if("xhr"!==e.adapter)return;let t=e.request,r=e.context;function n(e){return t=>{let n=t.lengthComputable?t.loaded/t.total*100:-1;r.channels.progress.publish({stage:e,percent:n,total:t.total,loaded:t.loaded,lengthComputable:t.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"))}},eA,function(e={}){let t=e.implementation||A.Observable;if(!t)throw Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(e,r)=>new t(t=>(e.error.subscribe(e=>t.error(e)),e.progress.subscribe(e=>t.next(Object.assign({type:"progress"},e))),e.response.subscribe(e=>{t.next(Object.assign({type:"response"},e)),t.complete()}),e.request.publish(r),()=>e.abort.publish()))}}({implementation:N.c})])}function e$(e,t,r){if(0===r.maxRetries)return!1;let n="GET"===r.method||"HEAD"===r.method,i=(r.uri||r.url).startsWith("/data/query"),s=e.response&&(429===e.response.statusCode||502===e.response.statusCode||503===e.response.statusCode);return(!!n||!!i)&&!!s||M.shouldRetry(e,t,r)}function eq(e){return"https://www.sanity.io/help/"+e}let eP=["image","file"],eU=["before","after","replace"],eM=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},eN=(e,t)=>{if(null===t||"object"!=typeof t||Array.isArray(t))throw Error(`${e}() takes an object of properties`)},eD=(e,t)=>{if("string"!=typeof t||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw Error(`${e}(): "${t}" is not a valid document ID`)},eL=(e,t)=>{if(!t._id)throw Error(`${e}() requires that the document contains an ID ("_id" property)`);eD(e,t._id)},eB=(e,t)=>{if(!t._type)throw Error(`\`${e}()\` requires that the document contains a type (\`_type\` property)`);((e,t)=>{if("string"!=typeof t)throw Error(`\`${e}()\`: \`${t}\` is not a valid document type`)})(e,t._type)},eF=e=>{if(!e.dataset)throw Error("`dataset` must be provided to perform queries");return e.dataset||""},ez=e=>{if("string"!=typeof e||!/^[a-z0-9._-]{1,75}$/i.test(e))throw Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},eV=e=>{if(!e["~experimental_resource"])throw Error("`resource` must be provided to perform resource queries");let{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":if(2!==r.split(".").length)throw Error('Dataset resource ID must be in the format "project.dataset"');return;case"dashboard":case"media-library":case"canvas":return;default:throw Error(`Unsupported resource type: ${t.toString()}`)}},eW=(e,t)=>{if(t["~experimental_resource"])throw Error(`\`${e}\` does not support resource-based operations`)},eH=e=>(function(e){let t=!1,r;return(...n)=>(t||(r=e(...n),t=!0),r)})((...t)=>console.warn(e.join(" "),...t)),eJ=eH(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),eG=eH(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),eX=eH(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),eY=eH(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),eK=eH(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${eq("js-client-browser-token")} for more information and how to hide this warning.`]),eQ=eH(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),eZ=eH(["Using the Sanity client without specifying an API version is deprecated.",`See ${eq("js-client-api-version")}`]),e0=(eH(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),eH(["You have called `createVersion()` with a defined `document`. The recommended approach is to provide a `baseId` and `releaseId` instead."])),e1={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},e2=["localhost","127.0.0.1","0.0.0.0"];function e3(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}let e6=(e,t)=>{let r,n={...t,...e,stega:{..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||e1.stega,..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||{}}};n.apiVersion||eZ();let i={...e1,...n},s=i.useProjectHostname&&!i["~experimental_resource"];if(typeof Promise>"u"){let e=eq("js-client-promise-polyfill");throw Error(`No native Promise-implementation found, polyfill needed - see ${e}`)}if(s&&!i.projectId)throw Error("Configuration must contain `projectId`");if(i["~experimental_resource"]&&eV(i),"u">typeof i.perspective&&e3(i.perspective),"encodeSourceMap"in i)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in i)throw Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof i.stega.enabled)throw Error(`stega.enabled must be a boolean, received ${i.stega.enabled}`);if(i.stega.enabled&&void 0===i.stega.studioUrl)throw Error("stega.studioUrl must be defined when stega.enabled is true");if(i.stega.enabled&&"string"!=typeof i.stega.studioUrl&&"function"!=typeof i.stega.studioUrl)throw Error(`stega.studioUrl must be a string or a function, received ${i.stega.studioUrl}`);let o="u">typeof window&&window.location&&window.location.hostname,a=o&&(r=window.location.hostname,-1!==e2.indexOf(r)),u=!!i.token;i.withCredentials&&u&&(eQ(),i.withCredentials=!1),o&&a&&u&&!0!==i.ignoreBrowserTokenWarning?eK():typeof i.useCdn>"u"&&eG(),s&&(e=>{if(!/^[-a-z0-9]+$/i.test(e))throw Error("`projectId` can only contain only a-z, 0-9 and dashes")})(i.projectId),i.dataset&&eM(i.dataset),"requestTagPrefix"in i&&(i.requestTagPrefix=i.requestTagPrefix?ez(i.requestTagPrefix).replace(/\.+$/,""):void 0),i.apiVersion=`${i.apiVersion}`.replace(/^v/,""),i.isDefaultApi=i.apiHost===e1.apiHost,!0===i.useCdn&&i.withCredentials&&eJ(),i.useCdn=!1!==i.useCdn&&!i.withCredentials,function(e){if("1"===e||"X"===e)return;let t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(i.apiVersion);let c=i.apiHost.split("://",2),l=c[0],f=c[1],h=i.isDefaultApi?"apicdn.sanity.io":f;return s?(i.url=`${l}://${i.projectId}.${f}/v${i.apiVersion}`,i.cdnUrl=`${l}://${i.projectId}.${h}/v${i.apiVersion}`):(i.url=`${i.apiHost}/v${i.apiVersion}`,i.cdnUrl=i.url),i};class e5 extends Error{name="ConnectionFailedError"}class e8 extends Error{name="DisconnectError";reason;constructor(e,t,r={}){super(e,r),this.reason=t}}class e9 extends Error{name="ChannelError";data;constructor(e,t){super(e),this.data=t}}class e4 extends Error{name="MessageError";data;constructor(e,t,r={}){super(e,r),this.data=t}}class e7 extends Error{name="MessageParseError"}let te=["channelError","disconnect"];function tt(e,t){return(0,D.v)(()=>{let t=e();return t&&(t instanceof N.c||(0,L.T)(t.lift)&&(0,L.T)(t.subscribe))?t:z(t)}).pipe((0,V.Z)(e=>{var r,n;return r=e,n=t,new N.c(e=>{let t=n.includes("open"),i=n.includes("reconnect");function s(t){if("data"in t){let[r,n]=tr(t);e.error(r?new e7("Unable to parse EventSource error message",{cause:n}):new e4((n?.data).message,n));return}r.readyState===r.CLOSED?e.error(new e5("EventSource connection failed")):i&&e.next({type:"reconnect"})}function o(){e.next({type:"open"})}function a(t){let[n,i]=tr(t);if(n)return void e.error(new e7("Unable to parse EventSource message",{cause:n}));if("channelError"===t.type){let t=new URL(r.url).searchParams.get("tag");e.error(new e9(function(e,t){let r=e.error;return r?eI(r)?eR(r,t):r.description?r.description:"string"==typeof r?r:JSON.stringify(r,null,2):e.message||"Unknown listener error"}(i?.data,t),i.data));return}if("disconnect"===t.type)return void e.error(new e8(`Server disconnected client: ${i.data?.reason||"unknown error"}`));e.next({type:t.type,id:t.lastEventId,...i.data?{data:i.data}:{}})}r.addEventListener("error",s),t&&r.addEventListener("open",o);let u=[...new Set([...te,...n])].filter(e=>"error"!==e&&"open"!==e&&"reconnect"!==e);return u.forEach(e=>r.addEventListener(e,a)),()=>{r.removeEventListener("error",s),t&&r.removeEventListener("open",o),u.forEach(e=>r.removeEventListener(e,a)),r.close()}})}))}function tr(e){try{let t="string"==typeof e.data&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...!function(e){for(let t in e)return!1;return!0}(t)?{data:t}:{}}]}catch(e){return[e,null]}}function tn(e){if("string"==typeof e)return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if("object"==typeof e&&null!==e&&"query"in e&&"string"==typeof e.query)return"params"in e&&"object"==typeof e.params&&null!==e.params?{query:e.query,params:e.params}:{query:e.query};let t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw Error(`Unknown selection - must be one of:

${t}`)}class ti{selection;operations;constructor(e,t={}){this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return eN("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,r){return((e,t,r)=>{let n="insert(at, selector, items)";if(-1===eU.indexOf(e)){let e=eU.map(e=>`"${e}"`).join(", ");throw Error(`${n} takes an "at"-argument which is one of: ${e}`)}if("string"!=typeof t)throw Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw Error(`${n} takes an "items"-argument which must be an array`)})(e,t,r),this._assign("insert",{[e]:t,items:r})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,r,n){let i=t<0?t-1:t,s=typeof r>"u"||-1===r?-1:Math.max(0,t+r),o=`${e}[${i}:${i<0&&s>=0?"":s}]`;return this.insert("replace",o,n||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...tn(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,r=!0){return eN(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}class ts extends ti{#a;constructor(e,t,r){super(e,t),this.#a=r}clone(){return new ts(this.selection,{...this.operations},this.#a)}commit(e){if(!this.#a)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let t=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},e);return this.#a.mutate({patch:this.serialize()},t)}}class to extends ti{#a;constructor(e,t,r){super(e,t),this.#a=r}clone(){return new to(this.selection,{...this.operations},this.#a)}commit(e){if(!this.#a)throw Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");let t=Object.assign({returnFirst:"string"==typeof this.selection,returnDocuments:!0},e);return this.#a.mutate({patch:this.serialize()},t)}}let ta={returnDocuments:!1};class tu{operations;trxId;constructor(e=[],t){this.operations=e,this.trxId=t}create(e){return eN("create",e),this._add({create:e})}createIfNotExists(e){let t="createIfNotExists";return eN(t,e),eL(t,e),this._add({[t]:e})}createOrReplace(e){let t="createOrReplace";return eN(t,e),eL(t,e),this._add({[t]:e})}delete(e){return eD("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class tc extends tu{#a;constructor(e,t,r){super(e,r),this.#a=t}clone(){return new tc([...this.operations],this.#a,this.trxId)}commit(e){if(!this.#a)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#a.mutate(this.serialize(),Object.assign({transactionId:this.trxId},ta,e||{}))}patch(e,t){let r="function"==typeof t,n="string"!=typeof e&&e instanceof to,i="object"==typeof e&&("query"in e||"id"in e);if(n)return this._add({patch:e.serialize()});if(r){let r=t(new to(e,{},this.#a));if(!(r instanceof to))throw Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}if(i){let r=new to(e,t||{},this.#a);return this._add({patch:r.serialize()})}return this._add({patch:{id:e,...t}})}}class tl extends tu{#a;constructor(e,t,r){super(e,r),this.#a=t}clone(){return new tl([...this.operations],this.#a,this.trxId)}commit(e){if(!this.#a)throw Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#a.mutate(this.serialize(),Object.assign({transactionId:this.trxId},ta,e||{}))}patch(e,t){let r="function"==typeof t;if("string"!=typeof e&&e instanceof ts)return this._add({patch:e.serialize()});if(r){let r=t(new ts(e,{},this.#a));if(!(r instanceof ts))throw Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}return this._add({patch:{id:e,...t}})}}let tf=({query:e,params:t={},options:r={}})=>{let n=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=r;for(let[r,s]of(i&&n.append("tag",i),n.append("query",e),Object.entries(t)))void 0!==s&&n.append(`$${r}`,JSON.stringify(s));for(let[e,t]of Object.entries(a))t&&n.append(e,`${t}`);return!1===o&&n.append("returnQuery","false"),!1===s&&n.append("includeMutations","false"),`?${n}`},th=e=>"response"===e.type,td=e=>e.body;function tp(e,t,n,i,s={},o={}){let a="stega"in o?{...n||{},..."boolean"==typeof o.stega?{enabled:o.stega}:o.stega||{}}:n,u=a.enabled?(0,ef.Q)(s):s,c=!1===o.filterResponse?e=>e:e=>e.result,{cache:l,next:f,...h}={useAbortSignal:"u">typeof o.signal,resultSourceMap:a.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:!1===o.filterResponse&&!1!==o.returnQuery},d=tR(e,t,"query",{query:i,params:u},"u">typeof l||"u">typeof f?{...h,fetch:{cache:l,next:f}}:h);return a.enabled?d.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return em.apply(void 0,(0,eh.fX)([],(0,eh.zs)(e)))}((0,F.H)(r.e(195).then(r.bind(r,4195)).then(function(e){return e.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:e})=>e))),(0,eu.T)(([e,t])=>{let r=t(e.result,e.resultSourceMap,a);return c({...e,result:r})})):d.pipe((0,eu.T)(c))}function ty(e,t,r,n={}){let i={uri:tq(e,"doc",(()=>{if(!n.releaseId)return r;let e=(0,ew._S)(r);if(!e){if((0,ew.R8)(r))throw Error(`The document ID (\`${r}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return(0,ew.ct)(r,n.releaseId)}if(e!==n.releaseId)throw Error(`The document ID (\`${r}\`) is already a version of \`${e}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return r})()),json:!0,tag:n.tag,signal:n.signal};return tk(e,t,i).pipe((0,eb.p)(th),(0,eu.T)(e=>e.body.documents&&e.body.documents[0]))}function tg(e,t,r,n={}){let i={uri:tq(e,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return tk(e,t,i).pipe((0,eb.p)(th),(0,eu.T)(e=>{let t,n,i=(t=e.body.documents||[],n=e=>e._id,t.reduce((e,t)=>(e[n(t)]=t,e),Object.create(null)));return r.map(e=>i[e]||null)}))}function tv(e,t,r,n={}){return tR(e,t,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:r}},n)}function tm(e,t,r,n){return eL("createIfNotExists",r),tO(e,t,r,"createIfNotExists",n)}function tb(e,t,r,n){return eL("createOrReplace",r),tO(e,t,r,"createOrReplace",n)}function tw(e,t,r,n,i){return eL("createVersion",r),eB("createVersion",r),e0(),tI(e,t,{actionType:"sanity.action.document.version.create",publishedId:n,document:r},i)}function t_(e,t,r,n,i,s,o){if(!n)throw Error("`createVersion()` requires `baseId` when no `document` is provided");if(!r)throw Error("`createVersion()` requires `publishedId` when `baseId` is provided");return eD("createVersion",n),eD("createVersion",r),tI(e,t,{actionType:"sanity.action.document.version.create",publishedId:r,baseId:n,versionId:i?(0,ew.ct)(r,i):(0,ew.T4)(r),ifBaseRevisionId:s},o)}function tE(e,t,r,n){return tR(e,t,"mutate",{mutations:[{delete:tn(r)}]},n)}function tx(e,t,r,n=!1,i){return tI(e,t,{actionType:"sanity.action.document.version.discard",versionId:r,purge:n},i)}function tS(e,t,r,n){return eL("replaceVersion",r),eB("replaceVersion",r),tI(e,t,{actionType:"sanity.action.document.version.replace",document:r},n)}function tC(e,t,r,n,i){return tI(e,t,{actionType:"sanity.action.document.version.unpublish",versionId:r,publishedId:n},i)}function tT(e,t,r,n){let i;return tR(e,t,"mutate",{mutations:Array.isArray(i=r instanceof to||r instanceof ts?{patch:r.serialize()}:r instanceof tc||r instanceof tl?r.serialize():r)?i:[i],transactionId:n&&n.transactionId||void 0},n)}function tI(e,t,r,n){let i=Array.isArray(r)?r:[r],s=n&&n.transactionId||void 0;return tR(e,t,"actions",{actions:i,transactionId:s,skipCrossDatasetReferenceValidation:n&&n.skipCrossDatasetReferenceValidation||void 0,dryRun:n&&n.dryRun||void 0},n)}function tR(e,t,r,n,i={}){let s="mutate"===r,o="actions"===r,a=s||o?"":tf(n),u=!s&&!o&&a.length<11264,c=u?a:"",l=i.returnFirst,{timeout:f,token:h,tag:d,headers:p,returnQuery:y,lastLiveEventId:g,cacheMode:v}=i,m={method:u?"GET":"POST",uri:tq(e,r,c),json:!0,body:u?void 0:n,query:s&&((e={})=>{let t,r;return{dryRun:e.dryRun,returnIds:!0,returnDocuments:(t=e.returnDocuments,r=!0,!1===t?void 0:typeof t>"u"?r:t),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}})(i),timeout:f,headers:p,token:h,tag:d,returnQuery:y,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(g)?g[0]:g,cacheMode:v,canUseCdn:"query"===r,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return tk(e,t,m).pipe((0,eb.p)(th),(0,eu.T)(td),(0,eu.T)(e=>{if(!s)return e;let t=e.results||[];if(i.returnDocuments)return l?t[0]&&t[0].document:t.map(e=>e.document);let r=l?t[0]&&t[0].id:t.map(e=>e.id);return{transactionId:e.transactionId,results:t,[l?"documentId":"documentIds"]:r}}))}function tO(e,t,r,n,i={}){return tR(e,t,"mutate",{mutations:[{[n]:r}]},Object.assign({returnFirst:!0,returnDocuments:!0},i))}let tj=e=>void 0!==e.config().dataset&&void 0!==e.config().projectId||void 0!==e.config()["~experimental_resource"],tA=(e,t)=>tj(e)&&t.startsWith(tq(e,"query"));function tk(e,t,r){var n;let i=r.url||r.uri,s=e.config(),o=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&(i.startsWith("/data/")||tA(e,i)||tj(e)&&i.startsWith(tq(e,"mutate"))||tj(e)&&i.startsWith(tq(e,"doc",""))||tj(e)&&i.startsWith(tq(e,"listen"))||tj(e)&&i.startsWith(tq(e,"history",""))):r.canUseCdn,a=(r.useCdn??s.useCdn)&&o,u=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(u&&null!==r.tag&&(r.query={tag:ez(u),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&tA(e,i)){let e=r.resultSourceMap??s.resultSourceMap;void 0!==e&&!1!==e&&(r.query={resultSourceMap:e,...r.query});let t=r.perspective||s.perspective;"u">typeof t&&("previewDrafts"===t&&eY(),e3(t),r.query={perspective:Array.isArray(t)?t.join(","):t,...r.query},(Array.isArray(t)&&t.length>0||"previewDrafts"===t||"drafts"===t)&&a&&(a=!1,eX())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),!1===r.returnQuery&&(r.query={returnQuery:"false",...r.query}),a&&"noStale"==r.cacheMode&&(r.query={cacheMode:"noStale",...r.query})}let c=function(e,t={}){let r={};e.headers&&Object.assign(r,e.headers);let n=t.token||e.token;n&&(r.Authorization=`Bearer ${n}`),t.useGlobalApi||e.useProjectHostname||!e.projectId||(r["X-Sanity-Project-ID"]=e.projectId);let i=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),s=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},r,t.headers||{}),timeout:typeof s>"u"?3e5:s,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:"object"==typeof t.fetch&&"object"==typeof e.fetch?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}(s,Object.assign({},r,{url:tP(e,i,a)})),l=new N.c(e=>t(c,s.requester).subscribe(e));return r.signal?l.pipe((n=r.signal,e=>new N.c(t=>{let r=()=>t.error(function(e){if(tU)return new DOMException(e?.reason??"The operation was aborted.","AbortError");let t=Error(e?.reason??"The operation was aborted.");return t.name="AbortError",t}(n));if(n&&n.aborted)return void r();let i=e.subscribe(t);return n.addEventListener("abort",r),()=>{n.removeEventListener("abort",r),i.unsubscribe()}}))):l}function t$(e,t,r){return tk(e,t,r).pipe((0,eb.p)(e=>"response"===e.type),(0,eu.T)(e=>e.body))}function tq(e,t,r){let n=e.config();if(n["~experimental_resource"]){eV(n);let e=tM(n),i=void 0!==r?`${t}/${r}`:t;return`${e}/${i}`.replace(/\/($|\?)/,"$1")}let i=eF(n),s=`/${t}/${i}`;return`/data${void 0!==r?`${s}/${r}`:s}`.replace(/\/($|\?)/,"$1")}function tP(e,t,r=!1){let{url:n,cdnUrl:i}=e.config();return`${r?i:n}/${t.replace(/^\//,"")}`}let tU=!!globalThis.DOMException,tM=e=>{if(!e["~experimental_resource"])throw Error("`resource` must be provided to perform resource queries");let{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":{let e=r.split(".");if(2!==e.length)throw Error('Dataset ID must be in the format "project.dataset"');return`/projects/${e[0]}/datasets/${e[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw Error(`Unsupported resource type: ${t.toString()}`)}};function tN(e,t,r){let n=eF(e.config());return t$(e,t,{method:"POST",uri:`/agent/action/generate/${n}`,body:r})}function tD(e,t,r){let n=eF(e.config());return t$(e,t,{method:"POST",uri:`/agent/action/transform/${n}`,body:r})}function tL(e,t,r){let n=eF(e.config());return t$(e,t,{method:"POST",uri:`/agent/action/translate/${n}`,body:r})}class tB{#a;#u;constructor(e,t){this.#a=e,this.#u=t}generate(e){return tN(this.#a,this.#u,e)}transform(e){return tD(this.#a,this.#u,e)}translate(e){return tL(this.#a,this.#u,e)}}class tF{#a;#u;constructor(e,t){this.#a=e,this.#u=t}generate(e){return H(tN(this.#a,this.#u,e))}transform(e){return H(tD(this.#a,this.#u,e))}translate(e){return H(tL(this.#a,this.#u,e))}prompt(e){return H(function(e,t,r){let n=eF(e.config());return t$(e,t,{method:"POST",uri:`/agent/action/prompt/${n}`,body:r})}(this.#a,this.#u,e))}patch(e){return H(function(e,t,r){let n=eF(e.config());return t$(e,t,{method:"POST",uri:`/agent/action/patch/${n}`,body:r})}(this.#a,this.#u,e))}}class tz{#a;#u;constructor(e,t){this.#a=e,this.#u=t}upload(e,t,r){return tW(this.#a,this.#u,e,t,r)}}class tV{#a;#u;constructor(e,t){this.#a=e,this.#u=t}upload(e,t,r){return H(tW(this.#a,this.#u,e,t,r).pipe((0,eb.p)(e=>"response"===e.type),(0,eu.T)(e=>e.body.document)))}}function tW(e,t,r,n,i={}){var s,o;if(-1===eP.indexOf(r))throw Error(`Invalid asset type: ${r}. Must be one of ${eP.join(", ")}`);let a=i.extract||void 0;a&&!a.length&&(a=["none"]);let u=e.config(),c=(s=i,o=n,!(typeof File>"u")&&o instanceof File?Object.assign({filename:!1===s.preserveFilename?void 0:o.name,contentType:o.type},s):s),{tag:l,label:f,title:h,description:d,creditLine:p,filename:y,source:g}=c,v={label:f,title:h,description:d,filename:y,meta:a,creditLine:p};return g&&(v.sourceId=g.id,v.sourceName=g.name,v.sourceUrl=g.url),tk(e,t,{tag:l,method:"POST",timeout:c.timeout||0,uri:function(e,t){let r="image"===t?"images":"files";if(e["~experimental_resource"]){let{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":throw Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${n}/assets/${r}`;case"media-library":return`/media-libraries/${n}/upload`;case"dashboard":return`/dashboards/${n}/assets/${r}`;default:throw Error(`Unsupported resource type: ${t.toString()}`)}}let n=eF(e);return`assets/${r}/${n}`}(u,r),headers:c.contentType?{"Content-Type":c.contentType}:{},query:v,body:n})}let tH=(0,D.v)(()=>r.e(406).then(r.t.bind(r,4406,19))).pipe((0,eu.T)(({default:e})=>e),(0,J.t)(1));function tJ(){return function(e){return e.pipe(K((e,t)=>{var r;return e instanceof e5?Z(z({type:"reconnect"}),(void 0===r&&(r=et),new N.c(function(e){var t=1e3;t<0&&(t=0);var n=0;return r.schedule(function(){e.closed||(e.next(n++),e.complete())},t)})).pipe((0,V.Z)(()=>t))):er(()=>e)}))}}let tG=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],tX={includeResult:!0};function tY(e,t,r={}){let{url:n,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),u=r.tag&&o?[o,r.tag].join("."):r.tag,c={...Object.keys(tX).concat(Object.keys(r)).reduce((e,t)=>(e[t]=typeof r[t]>"u"?tX[t]:r[t],e),{}),tag:u},l=tf({query:e,params:t,options:{tag:u,...tG.reduce((e,t)=>(typeof c[t]>"u"||(e[t]=c[t]),e),{})}}),f=`${n}${tq(this,"listen",l)}`;if(f.length>14800)return er(()=>Error("Query too large for listener"));let h=c.events?c.events:["mutation"],d={};return s&&(d.withCredentials=!0),(i||a)&&(d.headers={},i&&(d.headers.Authorization=`Bearer ${i}`),a&&Object.assign(d.headers,a)),tt(()=>(typeof EventSource>"u"||d.headers?tH:z(EventSource)).pipe((0,eu.T)(e=>new e(f,d))),h).pipe(tJ(),(0,eb.p)(e=>h.includes(e.type)),(0,eu.T)(e=>({type:e.type,..."data"in e?e.data:{}})))}let tK="2021-03-25";class tQ{#a;constructor(e){this.#a=e}events({includeDrafts:e=!1,tag:t}={}){var r,n,i,s;eW("live",this.#a.config());let{projectId:o,apiVersion:a,token:u,withCredentials:c,requestTagPrefix:l,headers:f}=this.#a.config(),h=a.replace(/^v/,"");if("X"!==h&&h<tK)throw Error(`The live events API requires API version ${tK} or later. The current API version is ${h}. Please update your API version to use this feature.`);if(e&&!u&&!c)throw Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");let d=tq(this.#a,"live/events"),p=new URL(this.#a.getUrl(d,!1)),y=t&&l?[l,t].join("."):t;y&&p.searchParams.set("tag",y),e&&p.searchParams.set("includeDrafts","true");let g={};e&&c&&(g.withCredentials=!0),(e&&u||f)&&(g.headers={},e&&u&&(g.headers.Authorization=`Bearer ${u}`),f&&Object.assign(g.headers,f));let v=`${p.href}::${JSON.stringify(g)}`,m=tZ.get(v);if(m)return m;let b=tt(()=>(typeof EventSource>"u"||g.headers?tH:z(EventSource)).pipe((0,eu.T)(e=>new e(p.href,g))),["message","restart","welcome","reconnect","goaway"]).pipe(tJ(),(0,eu.T)(e=>{if("message"===e.type){let{data:t,...r}=e;return{...r,tags:t.tags}}return e})),w=Z((n=p,i={method:"OPTIONS",mode:"cors",credentials:g.withCredentials?"include":"omit",headers:g.headers},new N.c(e=>{let t=new AbortController,r=t.signal;return fetch(n,{...i,signal:t.signal}).then(t=>{e.next(t),e.complete()},t=>{r.aborted||e.error(t)}),()=>t.abort()})).pipe((0,V.Z)(()=>ea.w),K(()=>{throw new ej({projectId:o})})),b).pipe(ei(()=>tZ.delete(v)),(s="function"==typeof(r={predicate:e=>"welcome"===e.type})?{predicate:r,...void 0}:r,e=>{var t,r,n,i;let o,a=!1,{predicate:u,...c}=s,l=e.pipe((t=e=>{s.predicate(e)&&(a=!0,o=e)},(i=(0,L.T)(t)?{next:t,error:r,complete:n}:t)?(0,Y.N)(function(e,t){null==(r=i.subscribe)||r.call(i);var r,n=!0;e.subscribe((0,X._)(t,function(e){var r;null==(r=i.next)||r.call(i,e),t.next(e)},function(){var e;n=!1,null==(e=i.complete)||e.call(i),t.complete()},function(e){var r;n=!1,null==(r=i.error)||r.call(i,e),t.error(e)},function(){var e,t;n&&(null==(e=i.unsubscribe)||e.call(i)),null==(t=i.finalize)||t.call(i)}))}):en.D),ei(()=>{a=!1,o=void 0}),(0,es.u)(c)),f=new N.c(e=>{a&&e.next(o),e.complete()});return(0,eo.h)(l,f)}));return tZ.set(v,w),w}}let tZ=new Map;class t0{#a;#u;constructor(e,t){this.#a=e,this.#u=t}create(e,t){return t2(this.#a,this.#u,"PUT",e,t)}edit(e,t){return t2(this.#a,this.#u,"PATCH",e,t)}delete(e){return t2(this.#a,this.#u,"DELETE",e)}list(){return t$(this.#a,this.#u,{uri:"/datasets",tag:null})}}class t1{#a;#u;constructor(e,t){this.#a=e,this.#u=t}create(e,t){return eW("dataset",this.#a.config()),H(t2(this.#a,this.#u,"PUT",e,t))}edit(e,t){return eW("dataset",this.#a.config()),H(t2(this.#a,this.#u,"PATCH",e,t))}delete(e){return eW("dataset",this.#a.config()),H(t2(this.#a,this.#u,"DELETE",e))}list(){return eW("dataset",this.#a.config()),H(t$(this.#a,this.#u,{uri:"/datasets",tag:null}))}}function t2(e,t,r,n,i){return eW("dataset",e.config()),eM(n),t$(e,t,{method:r,uri:`/datasets/${n}`,body:i,tag:null})}class t3{#a;#u;constructor(e,t){this.#a=e,this.#u=t}list(e){eW("projects",this.#a.config());let t=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return t$(this.#a,this.#u,{uri:t})}getById(e){return eW("projects",this.#a.config()),t$(this.#a,this.#u,{uri:`/projects/${e}`})}}class t6{#a;#u;constructor(e,t){this.#a=e,this.#u=t}list(e){eW("projects",this.#a.config());let t=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return H(t$(this.#a,this.#u,{uri:t}))}getById(e){return eW("projects",this.#a.config()),H(t$(this.#a,this.#u,{uri:`/projects/${e}`}))}}let t5=((e,t=21)=>((e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return (s=t)=>{let o="";for(;;){let t=r(i),a=0|i;for(;a--;)if((o+=e[t[a]&n]||"").length===s)return o}}})(e,t,e_))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",8),t8=(e,t)=>t?(0,ew.ct)(e,t):(0,ew.T4)(e);function t9(e,{releaseId:t,publishedId:r,document:n}){if(r&&n._id){let e=t8(r,t);return((e,t)=>{if(t._id&&t._id!==e)throw Error(`The provided document ID (\`${t._id}\`) does not match the generated version ID (\`${e}\`)`)})(e,n),e}if(n._id){let r=(0,ew.R8)(n._id),i=(0,ew.A_)(n._id);if(!r&&!i)throw Error(`\`${e}()\` requires a document with an \`_id\` that is a version or draft ID`);if(t){if(r)throw Error(`\`${e}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${t}\`) was also provided.`);let i=(0,ew._S)(n._id);if(i!==t)throw Error(`\`${e}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${t}\`) does not match the document's version ID (\`${i}\`).`)}return n._id}if(r)return t8(r,t);throw Error(`\`${e}()\` requires either a publishedId or a document with an \`_id\``)}let t4=(e,t)=>{let[r,n,i]=((e,t)=>{if("object"==typeof e&&null!==e&&("releaseId"in e||"metadata"in e)){let{releaseId:r=t5(),metadata:n={}}=e;return[r,n,t]}return[t5(),{},e]})(e,t);return{action:{actionType:"sanity.action.release.create",releaseId:r,metadata:{...n,releaseType:n.releaseType||"undecided"}},options:i}};class t7{#a;#u;constructor(e,t){this.#a=e,this.#u=t}get({releaseId:e},t){return ty(this.#a,this.#u,`_.releases.${e}`,t)}create(e,t){let{action:r,options:n}=t4(e,t),{releaseId:i,metadata:s}=r;return tI(this.#a,this.#u,r,n).pipe((0,eu.T)(e=>({...e,releaseId:i,metadata:s})))}edit({releaseId:e,patch:t},r){return tI(this.#a,this.#u,{actionType:"sanity.action.release.edit",releaseId:e,patch:t},r)}publish({releaseId:e},t){return tI(this.#a,this.#u,{actionType:"sanity.action.release.publish",releaseId:e},t)}archive({releaseId:e},t){return tI(this.#a,this.#u,{actionType:"sanity.action.release.archive",releaseId:e},t)}unarchive({releaseId:e},t){return tI(this.#a,this.#u,{actionType:"sanity.action.release.unarchive",releaseId:e},t)}schedule({releaseId:e,publishAt:t},r){return tI(this.#a,this.#u,{actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t},r)}unschedule({releaseId:e},t){return tI(this.#a,this.#u,{actionType:"sanity.action.release.unschedule",releaseId:e},t)}delete({releaseId:e},t){return tI(this.#a,this.#u,{actionType:"sanity.action.release.delete",releaseId:e},t)}fetchDocuments({releaseId:e},t){return tv(this.#a,this.#u,e,t)}}class re{#a;#u;constructor(e,t){this.#a=e,this.#u=t}get({releaseId:e},t){return H(ty(this.#a,this.#u,`_.releases.${e}`,t))}async create(e,t){let{action:r,options:n}=t4(e,t),{releaseId:i,metadata:s}=r;return{...await H(tI(this.#a,this.#u,r,n)),releaseId:i,metadata:s}}edit({releaseId:e,patch:t},r){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.edit",releaseId:e,patch:t},r))}publish({releaseId:e},t){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.publish",releaseId:e},t))}archive({releaseId:e},t){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.archive",releaseId:e},t))}unarchive({releaseId:e},t){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.unarchive",releaseId:e},t))}schedule({releaseId:e,publishAt:t},r){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t},r))}unschedule({releaseId:e},t){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.unschedule",releaseId:e},t))}delete({releaseId:e},t){return H(tI(this.#a,this.#u,{actionType:"sanity.action.release.delete",releaseId:e},t))}fetchDocuments({releaseId:e},t){return H(tv(this.#a,this.#u,e,t))}}class rt{#a;#u;constructor(e,t){this.#a=e,this.#u=t}getById(e){return t$(this.#a,this.#u,{uri:`/users/${e}`})}}class rr{#a;#u;constructor(e,t){this.#a=e,this.#u=t}getById(e){return H(t$(this.#a,this.#u,{uri:`/users/${e}`}))}}class rn{assets;datasets;live;projects;users;agent;releases;#c;#u;listen=tY;constructor(e,t=e1){this.config(t),this.#u=e,this.assets=new tz(this,this.#u),this.datasets=new t0(this,this.#u),this.live=new tQ(this),this.projects=new t3(this,this.#u),this.users=new rt(this,this.#u),this.agent={action:new tB(this,this.#u)},this.releases=new t7(this,this.#u)}clone(){return new rn(this.#u,this.config())}config(e){if(void 0===e)return{...this.#c};if(this.#c&&!1===this.#c.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#c=e6(e,this.#c||{}),this}withConfig(e){let t=this.config();return new rn(this.#u,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,r){return tp(this,this.#u,this.#c.stega,e,t,r)}getDocument(e,t){return ty(this,this.#u,e,t)}getDocuments(e,t){return tg(this,this.#u,e,t)}create(e,t){return tO(this,this.#u,e,"create",t)}createIfNotExists(e,t){return tm(this,this.#u,e,t)}createOrReplace(e,t){return tb(this,this.#u,e,t)}createVersion({document:e,publishedId:t,releaseId:r,baseId:n,ifBaseRevisionId:i},s){if(!e)return t_(this,this.#u,t,n,r,i,s);let o=t9("createVersion",{document:e,publishedId:t,releaseId:r}),a={...e,_id:o},u=t||(0,ew.IM)(e._id);return tw(this,this.#u,a,u,s)}delete(e,t){return tE(this,this.#u,e,t)}discardVersion({releaseId:e,publishedId:t},r,n){let i=t8(t,e);return tx(this,this.#u,i,r,n)}replaceVersion({document:e,publishedId:t,releaseId:r},n){let i=t9("replaceVersion",{document:e,publishedId:t,releaseId:r}),s={...e,_id:i};return tS(this,this.#u,s,n)}unpublishVersion({releaseId:e,publishedId:t},r){let n=(0,ew.ct)(t,e);return tC(this,this.#u,n,t,r)}mutate(e,t){return tT(this,this.#u,e,t)}patch(e,t){return new ts(e,t,this)}transaction(e){return new tl(e,this)}action(e,t){return tI(this,this.#u,e,t)}request(e){return t$(this,this.#u,e)}getUrl(e,t){return tP(this,e,t)}getDataUrl(e,t){return tq(this,e,t)}}class ri{assets;datasets;live;projects;users;agent;releases;observable;#c;#u;listen=tY;constructor(e,t=e1){this.config(t),this.#u=e,this.assets=new tV(this,this.#u),this.datasets=new t1(this,this.#u),this.live=new tQ(this),this.projects=new t6(this,this.#u),this.users=new rr(this,this.#u),this.agent={action:new tF(this,this.#u)},this.releases=new re(this,this.#u),this.observable=new rn(e,t)}clone(){return new ri(this.#u,this.config())}config(e){if(void 0===e)return{...this.#c};if(this.#c&&!1===this.#c.allowReconfigure)throw Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#c=e6(e,this.#c||{}),this}withConfig(e){let t=this.config();return new ri(this.#u,{...t,...e,stega:{...t.stega||{},..."boolean"==typeof e?.stega?{enabled:e.stega}:e?.stega||{}}})}fetch(e,t,r){return H(tp(this,this.#u,this.#c.stega,e,t,r))}getDocument(e,t){return H(ty(this,this.#u,e,t))}getDocuments(e,t){return H(tg(this,this.#u,e,t))}create(e,t){return H(tO(this,this.#u,e,"create",t))}createIfNotExists(e,t){return H(tm(this,this.#u,e,t))}createOrReplace(e,t){return H(tb(this,this.#u,e,t))}createVersion({document:e,publishedId:t,releaseId:r,baseId:n,ifBaseRevisionId:i},s){if(!e)return el(t_(this,this.#u,t,n,r,i,s));let o=t9("createVersion",{document:e,publishedId:t,releaseId:r}),a={...e,_id:o},u=t||(0,ew.IM)(e._id);return el(tw(this,this.#u,a,u,s))}delete(e,t){return H(tE(this,this.#u,e,t))}discardVersion({releaseId:e,publishedId:t},r,n){let i=t8(t,e);return H(tx(this,this.#u,i,r,n))}replaceVersion({document:e,publishedId:t,releaseId:r},n){let i=t9("replaceVersion",{document:e,publishedId:t,releaseId:r}),s={...e,_id:i};return el(tS(this,this.#u,s,n))}unpublishVersion({releaseId:e,publishedId:t},r){let n=(0,ew.ct)(t,e);return H(tC(this,this.#u,n,t,r))}mutate(e,t){return H(tT(this,this.#u,e,t))}patch(e,t){return new to(e,t,this)}transaction(e){return new tc(e,this)}action(e,t){return H(tI(this,this.#u,e,t))}request(e){return H(t$(this,this.#u,e))}dataRequest(e,t,r){return H(tR(this,this.#u,e,t,r))}getUrl(e,t){return tP(this,e,t)}getDataUrl(e,t){return tq(this,e,t)}}let rs=function(e,t){return{requester:ek(e),createClient:r=>{let n=ek(e,{ignoreWarnings:r.ignoreWarnings});return new t((e,t)=>(t||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...e}),r)}}}([],ri),ro=(rs.requester,rs.createClient);var ra=r(2043),ru=r(7192),rc=r(5028),rl=r(5695),rf=r(2115),rh=r(6295),rd=r(2981);let rp=(0,rc.default)(()=>r.e(466).then(r.bind(r,8466)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/PresentationComlink.js")]},ssr:!1}),ry=(0,rc.default)(()=>r.e(513).then(r.bind(r,8513)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnMount.js")]},ssr:!1}),rg=(0,rc.default)(()=>r.e(376).then(r.bind(r,6376)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnFocus.js")]},ssr:!1}),rv=(0,rc.default)(()=>r.e(739).then(r.bind(r,2977)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../_chunks-es/RefreshOnReconnect.js")]},ssr:!1});function rm(e){var t;e instanceof ej?console.warn("Sanity Live is unable to connect to the Sanity API as the current origin - ".concat(window.origin," - is not in the list of allowed CORS origins for this Sanity Project."),e.addOriginUrl&&"Add it here:",null==(t=e.addOriginUrl)?void 0:t.toString()):console.error(e)}function rb(e,t){t?console.warn("Sanity Live connection closed, switching to long polling set to a interval of",t/1e3,"seconds and the server gave this reason:",e.reason):console.error("Sanity Live connection closed, automatic revalidation is disabled, the server gave this reason:",e.reason)}function rw(e){let{projectId:t,dataset:r,apiHost:i,apiVersion:s,useProjectHostname:o,token:a,requestTagPrefix:u,draftModeEnabled:c,draftModePerspective:l,refreshOnMount:f=!1,refreshOnFocus:h=!c&&(typeof window>"u"||window.self===window.top),refreshOnReconnect:d=!0,intervalOnGoAway:p=3e4,requestTag:y="next-loader.live",onError:g=rm,onGoAway:v=rb,revalidateSyncTags:m=ra.Q}=e,b=(0,rf.useMemo)(()=>ro({projectId:t,dataset:r,apiHost:i,apiVersion:s,useProjectHostname:o,ignoreBrowserTokenWarning:!0,token:a,useCdn:!1,requestTagPrefix:u}),[i,s,r,t,u,a,o]),[w,_]=(0,rf.useState)(!1),E=(0,rl.useRouter)(),x=(0,rh.J)(e=>{"message"===e.type?m(e.tags):"restart"===e.type||"reconnect"===e.type?E.refresh():"goaway"===e.type&&(v(e,p),_(p))});(0,rf.useEffect)(()=>{let e=b.live.events({includeDrafts:!!a,tag:y}).subscribe({next:x,error:e=>{g(e)}});return()=>e.unsubscribe()},[b.live,g,y,a]),(0,rf.useEffect)(()=>{c&&l?(0,rd.NL)(l):(0,rd.NL)("unknown")},[c,l]);let[S,C]=(0,rf.useState)(!1);(0,rf.useEffect)(()=>{if(!(0,ru.vY)()){if(c&&a)return void(0,rd.kN)("live");if(c)return void(0,rd.kN)("static");(0,rd.kN)("unknown")}},[c,a]),(0,rf.useEffect)(()=>{if(!(0,ru.vY)())return;let e=new AbortController,t=setTimeout(()=>(0,rd.kN)("live"),3e3);return window.addEventListener("message",r=>{let{data:n}=r;n&&"object"==typeof n&&"domain"in n&&"sanity/channels"===n.domain&&"from"in n&&"presentation"===n.from&&(clearTimeout(t),(0,rd.kN)((0,ru.v$)()?"presentation-window":"presentation-iframe"),C(!0),e.abort())},{signal:e.signal}),()=>{clearTimeout(t),e.abort()}},[]);let T=(0,rf.useRef)(void 0);return(0,rf.useEffect)(()=>{if(c)return clearTimeout(T.current),()=>{T.current=setTimeout(()=>{console.warn("Sanity Live: Draft mode was enabled, but is now being disabled")})}},[c]),(0,rf.useEffect)(()=>{if(!w)return;let e=setInterval(()=>E.refresh(),w);return()=>clearInterval(e)},[w,E]),(0,n.jsxs)(n.Fragment,{children:[c&&S&&(0,n.jsx)(rp,{projectId:t,dataset:r,draftModeEnabled:c,draftModePerspective:l}),!c&&f&&(0,n.jsx)(ry,{}),!c&&h&&(0,n.jsx)(rg,{}),!c&&d&&(0,n.jsx)(rv,{})]})}rw.displayName="SanityLive"},2981:(e,t,r)=>{"use strict";r.d(t,{El:()=>l,Hi:()=>u,NL:()=>s,kN:()=>a,lc:()=>f,sq:()=>c});let n=new Set,i="checking";function s(e){if(i!==e)for(let t of(i=e,n))t()}let o=new Set;function a(e){for(let e of o)e()}let u=new Set,c=null;function l(e){for(let t of(c=e,u))t()}function f(e,t){for(let e of u)e()}},3063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return w}});let n=r(8229),i=r(6966),s=r(5155),o=i._(r(2115)),a=n._(r(7650)),u=n._(r(5564)),c=r(8883),l=r(5840),f=r(6752);r(3230);let h=r(901),d=n._(r(1193)),p=r(6654),y={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,r,n,i,s,o){let a=null==e?void 0:e.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function v(e){return o.use?{fetchPriority:e}:{fetchpriority:e}}let m=(0,o.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:a,width:u,decoding:c,className:l,style:f,fetchPriority:h,placeholder:d,loading:y,unoptimized:m,fill:b,onLoadRef:w,onLoadingCompleteRef:_,setBlurComplete:E,setShowAltText:x,sizesInput:S,onLoad:C,onError:T,...I}=e,R=(0,o.useCallback)(e=>{e&&(T&&(e.src=e.src),e.complete&&g(e,d,w,_,E,m,S))},[r,d,w,_,E,T,m,S]),O=(0,p.useMergedRef)(t,R);return(0,s.jsx)("img",{...I,...v(h),loading:y,width:u,height:a,decoding:c,"data-nimg":b?"fill":"1",className:l,style:f,sizes:i,srcSet:n,src:r,ref:O,onLoad:e=>{g(e.currentTarget,d,w,_,E,m,S)},onError:e=>{x(!0),"empty"!==d&&E(!0),T&&T(e)}})});function b(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...v(r.fetchPriority)};return t&&a.default.preload?(a.default.preload(r.src,n),null):(0,s.jsx)(u.default,{children:(0,s.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let w=(0,o.forwardRef)((e,t)=>{let r=(0,o.useContext)(h.RouterContext),n=(0,o.useContext)(f.ImageConfigContext),i=(0,o.useMemo)(()=>{var e;let t=y||n||l.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),s=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:s}},[n]),{onLoad:a,onLoadingComplete:u}=e,p=(0,o.useRef)(a);(0,o.useEffect)(()=>{p.current=a},[a]);let g=(0,o.useRef)(u);(0,o.useEffect)(()=>{g.current=u},[u]);let[v,w]=(0,o.useState)(!1),[_,E]=(0,o.useState)(!1),{props:x,meta:S}=(0,c.getImgProps)(e,{defaultLoader:d.default,imgConf:i,blurComplete:v,showAltText:_});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{...x,unoptimized:S.unoptimized,placeholder:S.placeholder,fill:S.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:w,setShowAltText:E,sizesInput:e.sizes,ref:t}),S.priority?(0,s.jsx)(b,{isAppRouter:!r,imgAttributes:x}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},3817:(e,t,r)=>{"use strict";r.d(t,{Kn:()=>u,yU:()=>a,Uv:()=>c});var n=r(9249),i=r(1208),s=(0,r(8066).L)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),o=r(575),a=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,o,a,u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,n.Ju)(u),f=c.next();!f.done;f=c.next())f.value.remove(this)}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this);var h=this.initialTeardown;if((0,i.T)(h))try{h()}catch(e){a=e instanceof s?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=(0,n.Ju)(d),y=p.next();!y.done;y=p.next()){var g=y.value;try{l(g)}catch(e){a=null!=a?a:[],e instanceof s?a=(0,n.fX)((0,n.fX)([],(0,n.zs)(a)),(0,n.zs)(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{y&&!y.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(a)throw new s(a)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)l(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(r=this._finalizers)?r:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.o)(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&(0,o.o)(r,e),e instanceof t&&e._removeParent(this)},(e=new t).closed=!0,t.EMPTY=e,t}(),u=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,i.T)(e.remove)&&(0,i.T)(e.add)&&(0,i.T)(e.unsubscribe)}function l(e){(0,i.T)(e)?e():e.unsubscribe()}},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return a}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let i="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return i?new i:new n}function o(e){return i?i.bind(e):n.bind(e)}function a(){return i?i.snapshot():function(e,...t){return e(...t)}}},4134:(e,t,r)=>{"use strict";var n=r(7719),i=r(7610),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|p(n,i),u=o(s),c=u.write(n,i);return c!==s&&(u=u.slice(0,c)),u}if(ArrayBuffer.isView(e)){var l=e;if(O(l,Uint8Array)){var y=new Uint8Array(l);return h(y.buffer,y.byteOffset,y.byteLength)}return f(l)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var g=e.valueOf&&e.valueOf();if(null!=g&&g!==e)return a.from(g,t,r);var v=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(v)return v;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),o(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return T(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return I(e).length;default:if(i)return n?-1:T(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){var i,s,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=j[e[s]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,s=t,o=r,0===s&&o===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(s,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){var s;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(s=r*=1)!=s&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return m(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===u)return l*o}else -1!==l&&(s-=s-l),l=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var f=!0,h=0;h<u;h++)if(c(e,s+h)!==c(t,h)){f=!1;break}if(f)return s}return -1}function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(s=e[i+1]))==128&&(u=(31&c)<<6|63&s)>127&&(l=u);break;case 3:s=e[i+1],o=e[i+2],(192&s)==128&&(192&o)==128&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}var h=n,d=h.length;if(d<=4096)return String.fromCharCode.apply(String,h);for(var p="",y=0;y<d;)p+=String.fromCharCode.apply(String,h.slice(y,y+=4096));return p}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,s){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i,s){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function x(e,t,r,n,s){return t*=1,r>>>=0,s||E(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,s){return t*=1,r>>>=0,s||E(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.hp=a,t.IS=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(O(s,Uint8Array))i+s.length>n.length?a.from(s).copy(n,i):Uint8Array.prototype.set.call(n,s,i);else if(a.isBuffer(s))s.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=s.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var s=i-n,o=r-t,u=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){s=c[f],o=l[f];break}return s<o?-1:+(o<s)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,o,a,u,c,l,f,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a,u=parseInt(t.substr(2*o,2),16);if((a=u)!=a)break;e[r+o]=u}return o}(this,e,t,r);case"utf8":case"utf-8":return i=t,s=r,R(T(e,this.length-i),this,i,s);case"ascii":case"latin1":case"binary":return o=t,a=r,R(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,a);case"base64":return u=t,c=r,R(I(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,R(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var s=1,o=0;for(this[t]=255&e;++o<r&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var s=r-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===n&&s<128||"latin1"===n)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),u=o.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function T(e,t){t=t||1/0;for(var r,n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return s}function I(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var j=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},4354:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(7110),i=r(3817),s=r(8541),o=r(8580),a=r(329),u=r(1208),c=r(9833),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var s=this,o=!function(e){return e&&e instanceof n.vU||e&&(0,u.T)(e.next)&&(0,u.T)(e.error)&&(0,u.T)(e.complete)&&(0,i.Uv)(e)}(e)?new n.Ms(e,t,r):e;return(0,c.Y)(function(){var e=s.operator,t=s.source;o.add(e?e.call(o,t):t?s._subscribe(o):s._trySubscribe(o))}),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))(function(t,i){var s=new n.Ms({next:function(t){try{e(t)}catch(e){i(e),s.unsubscribe()}},error:i,complete:t});r.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[s.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,o.m)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!=(t=null!=e?e:a.$.Promise)?t:Promise}},4477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return n.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return i.findSourceMapURL}});let n=r(3806),i=r(1818),s=r(7197)},4962:(e,t,r)=>{"use strict";function n(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}r.d(t,{N:()=>n})},5028:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(6645),i=r.n(n)},5029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(2115),i=n.useLayoutEffect,s=n.useEffect;function o(e){let{headManager:t,reduceComponentsToState:r}=e;function o(){if(t&&t.mountedInstances){let i=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(i,e))}}return i(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),i(()=>(t&&(t._pendingUpdate=o),()=>{t&&(t._pendingUpdate=o)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},5100:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:s,objectFit:o}=e,a=n?40*n:t,u=i?40*i:r,c=a&&u?"viewBox='0 0 "+a+" "+u+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===o?"xMidYMid":"cover"===o?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},5340:(e,t,r)=>{"use strict";r.d(t,{R:()=>a});var n=r(9249),i=function(e){function t(t,r){return e.call(this)||this}return(0,n.C6)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(3817).yU),s={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=s.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,(0,n.fX)([e,t],(0,n.zs)(r))):setInterval.apply(void 0,(0,n.fX)([e,t],(0,n.zs)(r)))},clearInterval:function(e){var t=s.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},o=r(575),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,n.C6)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!=(r=this.id)?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),s.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&s.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.o)(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},5564:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},defaultHead:function(){return f}});let n=r(8229),i=r(6966),s=r(5155),o=i._(r(2115)),a=n._(r(5029)),u=r(2464),c=r(2830),l=r(7544);function f(e){void 0===e&&(e=!1);let t=[(0,s.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,s.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(3230);let d=["name","httpEquiv","charSet","itemProp"];function p(e,t){let{inAmpMode:r}=t;return e.reduce(h,[]).reverse().concat(f(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let s=!0,o=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){o=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?s=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?s=!1:t.add(i.type);break;case"meta":for(let e=0,t=d.length;e<t;e++){let t=d[e];if(i.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?s=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!o)&&r.has(e)?s=!1:(r.add(e),n[t]=r)}}}return s}}()).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let y=function(e){let{children:t}=e,r=(0,o.useContext)(u.AmpStateContext),n=(0,o.useContext)(c.HeadManagerContext);return(0,s.jsx)(a.default,{reduceComponentsToState:p,headManager:n,inAmpMode:(0,l.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5695:(e,t,r)=>{"use strict";var n=r(8999);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},5744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(7828)},5840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},6234:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6269:(e,t,r)=>{"use strict";r.d(t,{H:()=>b});var n=r(7173),i=r(6270),s=r(1125);function o(e,t){return void 0===t&&(t=0),(0,s.N)(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}var a=r(4354),u=r(6234),c=r(1208),l=r(4962);function f(e,t){if(!e)throw Error("Iterable cannot be null");return new a.c(function(r){(0,l.N)(r,t,function(){var n=e[Symbol.asyncIterator]();(0,l.N)(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}var h=r(2388),d=r(7745),p=r(6534),y=r(9930),g=r(7606),v=r(920),m=r(9839);function b(e,t){return t?function(e,t){if(null!=e){if((0,h.l)(e))return(0,n.Tg)(e).pipe(o(t),(0,i.Q)(t));if((0,p.X)(e))return new a.c(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})});if((0,d.y)(e))return(0,n.Tg)(e).pipe(o(t),(0,i.Q)(t));if((0,g.T)(e))return f(e,t);if((0,y.x)(e))return new a.c(function(r){var n;return(0,l.N)(r,t,function(){n=e[u.l](),(0,l.N)(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return(0,c.T)(null==n?void 0:n.return)&&n.return()}});if((0,m.U)(e))return f((0,m.C)(e),t)}throw(0,v.L)(e)}(e,t):(0,n.Tg)(e)}},6270:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var n=r(4962),i=r(1125),s=r(556);function o(e,t){return void 0===t&&(t=0),(0,i.N)(function(r,i){r.subscribe((0,s._)(i,function(r){return(0,n.N)(i,e,function(){return i.next(r)},t)},function(){return(0,n.N)(i,e,function(){return i.complete()},t)},function(r){return(0,n.N)(i,e,function(){return i.error(r)},t)}))})}},6295:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var n=r(2115);let i=n.createContext(!0);function s(){throw Error("A function wrapped in useEffectEvent can't be called during rendering.")}function o(e){let t=n.useRef(s);return n.useInsertionEffect(()=>{t.current=e},[e]),(...e)=>((()=>{try{return n.use(i)}catch{return!1}})()&&s(),(0,t.current)(...e))}},6534:(e,t,r)=>{"use strict";r.d(t,{X:()=>n});var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},6645:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let n=r(8229)._(r(7357));function i(e,t){var r;let i={};"function"==typeof e&&(i.loader=e);let s={...i,...t};return(0,n.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let n=r(2115);function i(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=s(e,n)),t&&(i.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let n=r(8229)._(r(2115)),i=r(5840),s=n.default.createContext(i.imageConfigDefault)},6814:(e,t,r)=>{"use strict";r.d(t,{A_:()=>g,C:()=>h,IM:()=>w,R8:()=>y,T4:()=>v,_S:()=>b,ct:()=>m,iz:()=>_});let n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/_key\s*==\s*['"](.*)['"]/,s=/^\d*:\d*$/;function o(e){return"number"==typeof e||"string"==typeof e&&/^\[\d+\]$/.test(e)}function a(e){return"string"==typeof e?i.test(e.trim()):"object"==typeof e&&"_key"in e}function u(e){if("string"==typeof e&&s.test(e))return!0;if(!Array.isArray(e)||2!==e.length)return!1;let[t,r]=e;return("number"==typeof t||""===t)&&("number"==typeof r||""===r)}function c(e){if(!Array.isArray(e))throw Error("Path is not an array");return e.reduce((e,t,r)=>{let n=typeof t;if("number"===n)return`${e}[${t}]`;if("string"===n)return`${e}${0===r?"":"."}${t}`;if(a(t)&&t._key)return`${e}[_key=="${t._key}"]`;if(Array.isArray(t)){let[r,n]=t;return`${e}[${r}:${n}]`}throw Error(`Unsupported path segment \`${JSON.stringify(t)}\``)},"")}function l(e){if("string"!=typeof e)throw Error("Path is not a string");let t=e.match(n);if(!t)throw Error("Invalid path string");return t.map(f)}function f(e){return o(e)?Number(e.replace(/[^\d]/g,"")):a(e)?{_key:e.match(i)[1]}:u(e)?function(e){let[t,r]=e.split(":").map(e=>""===e?e:Number(e));return[t,r]}(e):e}var h=Object.freeze({__proto__:null,fromString:l,get:function(e,t,r){let n="string"==typeof t?l(t):t;if(!Array.isArray(n))throw Error("Path must be an array or a string");let i=e;for(let e=0;e<n.length;e++){let t=n[e];if(o(t)){if(!Array.isArray(i))return r;i=i[t]}if(a(t)){if(!Array.isArray(i))return r;i=i.find(e=>e._key===t._key)}if("string"==typeof t&&(i="object"==typeof i&&null!==i?i[t]:void 0),typeof i>"u")return r}return i},isIndexSegment:o,isIndexTuple:u,isKeySegment:a,reKeySegment:i,toString:c});let d="drafts.",p="versions.";function y(e){return e.startsWith(d)}function g(e){return e.startsWith(p)}function v(e){return g(e)?d+w(e):y(e)?e:d+e}function m(e,t){if("drafts"===t||"published"===t)throw Error('Version can not be "published" or "drafts"');return`${p}${t}.${w(e)}`}function b(e){if(!g(e))return;let[t,r,...n]=e.split(".");return r}function w(e){return g(e)?e.split(".").slice(2).join("."):y(e)?e.slice(d.length):e}function _(e){let{baseUrl:t,workspace:r="default",tool:n="default",id:i,type:s,path:o,projectId:a,dataset:u}=e;if(!t)throw Error("baseUrl is required");if(!o)throw Error("path is required");if(!i)throw Error("id is required");if("/"!==t&&t.endsWith("/"))throw Error("baseUrl must not end with a slash");let l="default"===r?void 0:r,f="default"===n?void 0:n,h=w(i),d=Array.isArray(o)?c(o.map(e=>{if("string"==typeof e||"number"==typeof e)return e;if(""!==e._key)return{_key:e._key};if(-1!==e._index)return e._index;throw Error(`invalid segment:${JSON.stringify(e)}`)})):o,p=new URLSearchParams({baseUrl:t,id:h,type:s,path:d});if(l&&p.set("workspace",l),f&&p.set("tool",f),a&&p.set("projectId",a),u&&p.set("dataset",u),y(i)||g(i)){if(g(i)){let e=b(i);p.set("perspective",e)}}else p.set("perspective","published");let v=["/"===t?"":t];l&&v.push(l);let m=["mode=presentation",`id=${h}`,`type=${s}`,`path=${encodeURIComponent(d)}`];return f&&m.push(`tool=${f}`),v.push("intent","edit",`${m.join(";")}?${p}`),v.join("/")}},6874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return g},useLinkStatus:function(){return m}});let n=r(6966),i=r(5155),s=n._(r(2115)),o=r(2757),a=r(5227),u=r(9818),c=r(6654),l=r(9991),f=r(5929);r(3230);let h=r(4930),d=r(2664),p=r(6634);function y(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(e){let t,r,n,[o,g]=(0,s.useOptimistic)(h.IDLE_LINK_STATUS),m=(0,s.useRef)(null),{href:b,as:w,children:_,prefetch:E=null,passHref:x,replace:S,shallow:C,scroll:T,onClick:I,onMouseEnter:R,onTouchStart:O,legacyBehavior:j=!1,onNavigate:A,ref:k,unstable_dynamicOnHover:$,...q}=e;t=_,j&&("string"==typeof t||"number"==typeof t)&&(t=(0,i.jsx)("a",{children:t}));let P=s.default.useContext(a.AppRouterContext),U=!1!==E,M=null===E||"auto"===E?u.PrefetchKind.AUTO:u.PrefetchKind.FULL,{href:N,as:D}=s.default.useMemo(()=>{let e=y(b);return{href:e,as:w?y(w):e}},[b,w]);j&&(r=s.default.Children.only(t));let L=j?r&&"object"==typeof r&&r.ref:k,B=s.default.useCallback(e=>(null!==P&&(m.current=(0,h.mountLinkInstance)(e,N,P,M,U,g)),()=>{m.current&&((0,h.unmountLinkForCurrentNavigation)(m.current),m.current=null),(0,h.unmountPrefetchableInstance)(e)}),[U,N,P,M,g]),F={ref:(0,c.useMergedRef)(B,L),onClick(e){j||"function"!=typeof I||I(e),j&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),P&&(e.defaultPrevented||function(e,t,r,n,i,o,a){let{nodeName:u}=e.currentTarget;if(!("A"===u.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,d.isLocalURL)(t)){i&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),a){let e=!1;if(a({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,p.dispatchNavigateAction)(r||t,i?"replace":"push",null==o||o,n.current)})}}(e,N,D,m,S,T,A))},onMouseEnter(e){j||"function"!=typeof R||R(e),j&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),P&&U&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)},onTouchStart:function(e){j||"function"!=typeof O||O(e),j&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),P&&U&&(0,h.onNavigationIntent)(e.currentTarget,!0===$)}};return(0,l.isAbsoluteUrl)(D)?F.href=D:j&&!x&&("a"!==r.type||"href"in r.props)||(F.href=(0,f.addBasePath)(D)),n=j?s.default.cloneElement(r,F):(0,i.jsx)("a",{...q,...F,children:t}),(0,i.jsx)(v.Provider,{value:o,children:n})}r(3180);let v=(0,s.createContext)(h.IDLE_LINK_STATUS),m=()=>(0,s.useContext)(v);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7020:(e,t,r)=>{"use strict";function n(){}r.d(t,{l:()=>n})},7110:(e,t,r)=>{"use strict";r.d(t,{Ms:()=>v,vU:()=>d});var n=r(9249),i=r(1208),s=r(3817),o=r(329),a=r(8197),u=r(7020),c=l("C",void 0,void 0);function l(e,t,r){return{kind:e,value:t,error:r}}var f=r(8473),h=r(9833),d=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,s.Uv)(t)&&t.add(r)):r.destination=w,r}return(0,n.C6)(t,e),t.create=function(e,t,r){return new v(e,t,r)},t.prototype.next=function(e){this.isStopped?b(l("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.yU),p=Function.prototype.bind;function y(e,t){return p.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),v=function(e){function t(t,r,n){var s,a,u=e.call(this)||this;return(0,i.T)(t)||!t?s={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:u&&o.$.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},s={next:t.next&&y(t.next,a),error:t.error&&y(t.error,a),complete:t.complete&&y(t.complete,a)}):s=t,u.destination=new g(s),u}return(0,n.C6)(t,e),t}(d);function m(e){o.$.useDeprecatedSynchronousErrorHandling?(0,h.l)(e):(0,a.m)(e)}function b(e,t){var r=o.$.onStoppedNotification;r&&f.f.setTimeout(function(){return r(e,t)})}var w={closed:!0,next:u.l,error:function(e){throw e},complete:u.l}},7173:(e,t,r)=>{"use strict";r.d(t,{Tg:()=>y});var n=r(9249),i=r(6534),s=r(7745),o=r(4354),a=r(2388),u=r(7606),c=r(920),l=r(9930),f=r(9839),h=r(1208),d=r(8197),p=r(8541);function y(e){if(e instanceof o.c)return e;if(null!=e){var t,r,y,v,m;if((0,a.l)(e)){return t=e,new o.c(function(e){var r=t[p.s]();if((0,h.T)(r.subscribe))return r.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if((0,i.X)(e)){return r=e,new o.c(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}if((0,s.y)(e)){return y=e,new o.c(function(e){y.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,d.m)})}if((0,u.T)(e))return g(e);if((0,l.x)(e)){return v=e,new o.c(function(e){var t,r;try{for(var i=(0,n.Ju)(v),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}if((0,f.U)(e)){return m=e,g((0,f.C)(m))}}throw(0,c.L)(e)}function g(e){return new o.c(function(t){(function(e,t){var r,i,s,o;return(0,n.sH)(this,void 0,void 0,function(){var a;return(0,n.YH)(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=(0,n.xN)(e),u.label=1;case 1:return[4,r.next()];case 2:if((i=u.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:u.sent()},[3,11];case 6:if(u.trys.push([6,,9,10]),!(i&&!i.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},7192:(e,t,r)=>{"use strict";r.d(t,{Fk:()=>c,jF:()=>u,v$:()=>l,vY:()=>f});var n=r(9753);let i={"handshake/syn":n.Tx,"handshake/syn-ack":n.Rr,"handshake/ack":n.IM,"channel/response":n._K,"channel/heartbeat":n.vd,"channel/disconnect":n.FS,"overlay/focus":"visual-editing/focus","overlay/navigate":"visual-editing/navigate","overlay/toggle":"visual-editing/toggle","presentation/toggleOverlay":"presentation/toggle-overlay"},s={[n.Tx]:"handshake/syn",[n.Rr]:"handshake/syn-ack",[n.IM]:"handshake/ack",[n._K]:"channel/response",[n.vd]:"channel/heartbeat",[n.FS]:"channel/disconnect","visual-editing/focus":"overlay/focus","visual-editing/navigate":"overlay/navigate","visual-editing/toggle":"overlay/toggle","presentation/toggle-overlay":"presentation/toggleOverlay"},o=e=>{let{data:t}=e;return t&&"object"==typeof t&&"domain"in t&&"type"in t&&"from"in t&&"to"in t&&("sanity/channels"===t.domain&&(t.domain=n.V2),"overlays"===t.to&&(t.to="visual-editing"),"overlays"===t.from&&(t.from="visual-editing"),t.channelId=t.connectionId,delete t.connectionId,t.type=i[t.type]??t.type),e},a=({context:e},t)=>{let{sources:r,targetOrigin:i}=e,o=(e=>{let{channelId:t,...r}=e,i={...r,connectionId:t};return i.domain===n.V2&&(i.domain="sanity/channels"),"visual-editing"===i.to&&(i.to="overlays"),"visual-editing"===i.from&&(i.from="overlays"),i.type=s[i.type]??i.type,"channel/response"===i.type&&i.responseTo&&!i.data&&(i.data={responseTo:i.responseTo}),("handshake/syn"===i.type||"handshake/syn-ack"===i.type||"handshake/ack"===i.type)&&(i.data={id:i.connectionId}),i})(t.message);r.forEach(e=>{e.postMessage(o,{targetOrigin:i})})},u=()=>({listen:(0,n.CC)(o),requestMachine:(0,n.tP)().provide({actions:{"send message":a}})});function c(){return window.self!==window.top}function l(){return!!window.opener}function f(){return c()||l()}},7348:(e,t,r)=>{"use strict";r.d(t,{m:()=>o});var n=r(9249),i=r(2284),s=r(314),o=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=s.U);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return(0,n.C6)(t,e),t.prototype.next=function(t){var r=this.isStopped,n=this._buffer,i=this._infiniteTimeWindow,s=this._timestampProvider,o=this._windowTime;!r&&(n.push(t),i||n.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,i=(n?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!n){for(var s=t.now(),o=0,a=1;a<r.length&&r[a]<=s;a+=2)o=a;o&&r.splice(0,o+1)}},t}(i.B)},7357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(5155),i=r(2115),s=r(2146);function o(e){return{default:e&&"default"in e?e.default:e}}r(255);let a={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t={...a,...e},r=(0,i.lazy)(()=>t.loader().then(o)),u=t.loading;function c(e){let o=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,a=!t.ssr||!!t.loading,c=a?i.Suspense:i.Fragment,l=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(c,{...a?{fallback:o}:{},children:l})}return c.displayName="LoadableComponent",c}},7544:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},7606:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var n=r(1208);function i(e){return Symbol.asyncIterator&&(0,n.T)(null==e?void 0:e[Symbol.asyncIterator])}},7608:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(9249),i=r(314),s=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=i.U.now,e}(),o=function(e){function t(t,r){void 0===r&&(r=s.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return(0,n.C6)(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active)return void r.push(e);this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(s)},7610:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+e[t+f],f+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,f=l>>1,h=5960464477539062e-23*(23===i),d=n?0:s-1,p=n?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?t+=h/u:t+=h*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(t*u-1)*Math.pow(2,i),o+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*y}},7719:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,s=u(e),o=s[0],a=s[1],c=new i((o+a)*3/4-a),l=0,f=a>0?o-4:o;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(function(e,t,n){for(var i,s=[],o=t;o<n;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?s.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&s.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},7745:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(1208);function i(e){return(0,n.T)(null==e?void 0:e.then)}},7828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(4054).createAsyncLocalStorage)()},7978:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(5155),i=r(2115);let s=(0,i.lazy)(()=>Promise.all([r.e(977),r.e(654),r.e(678),r.e(215),r.e(1)]).then(r.bind(r,1333)));function o(e){return(0,n.jsx)(i.Suspense,{fallback:null,children:(0,n.jsx)(s,{...e})})}},8066:(e,t,r)=>{"use strict";function n(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{L:()=>n})},8124:(e,t,r)=>{"use strict";r.d(t,{u:()=>u});var n=r(9249),i=r(7173),s=r(2284),o=r(7110),a=r(1125);function u(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new s.B}:t,n=e.resetOnError,u=void 0===n||n,l=e.resetOnComplete,f=void 0===l||l,h=e.resetOnRefCountZero,d=void 0===h||h;return function(e){var t,n,s,l=0,h=!1,p=!1,y=function(){null==n||n.unsubscribe(),n=void 0},g=function(){y(),t=s=void 0,h=p=!1},v=function(){var e=t;g(),null==e||e.unsubscribe()};return(0,a.N)(function(e,a){l++,p||h||y();var m=s=null!=s?s:r();a.add(function(){0!=--l||p||h||(n=c(v,d))}),m.subscribe(a),!t&&l>0&&(t=new o.Ms({next:function(e){return m.next(e)},error:function(e){p=!0,y(),n=c(g,u,e),m.error(e)},complete:function(){h=!0,y(),n=c(g,f),m.complete()}}),(0,i.Tg)(e).subscribe(t))})(e)}}function c(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(!0===t)return void e();if(!1!==t){var a=new o.Ms({next:function(){a.unsubscribe(),e()}});return(0,i.Tg)(t.apply(void 0,(0,n.fX)([],(0,n.zs)(r)))).subscribe(a)}}},8197:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(329),i=r(8473);function s(e){i.f.setTimeout(function(){var t=n.$.onUnhandledError;if(t)t(e);else throw e})}},8473:(e,t,r)=>{"use strict";r.d(t,{f:()=>i});var n=r(9249),i={setTimeout:function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var o=i.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,n.fX)([e,t],(0,n.zs)(r))):setTimeout.apply(void 0,(0,n.fX)([e,t],(0,n.zs)(r)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},8541:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},8580:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,m:()=>s});var n=r(8906);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)}function s(e){return 0===e.length?n.D:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},8614:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var n=r(9953),i=r(8906);function s(e){return void 0===e&&(e=1/0),(0,n.Z)(i.D,e)}},8859:(e,t)=>{"use strict";function r(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,n(e));else t.set(r,n(i));return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return s},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return i}})},8883:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return u}}),r(3230);let n=r(5100),i=r(5840),s=["-moz-initial","fill","none","scale-down",void 0];function o(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u(e,t){var r,u;let c,l,f,{src:h,sizes:d,unoptimized:p=!1,priority:y=!1,loading:g,className:v,quality:m,width:b,height:w,fill:_=!1,style:E,overrideSrc:x,onLoad:S,onLoadingComplete:C,placeholder:T="empty",blurDataURL:I,fetchPriority:R,decoding:O="async",layout:j,objectFit:A,objectPosition:k,lazyBoundary:$,lazyRoot:q,...P}=e,{imgConf:U,showAltText:M,blurComplete:N,defaultLoader:D}=t,L=U||i.imageConfigDefault;if("allSizes"in L)c=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t),n=null==(r=L.qualities)?void 0:r.sort((e,t)=>e-t);c={...L,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===D)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let B=P.loader||D;delete P.loader,delete P.srcSet;let F="__next_img_default"in B;if(F){if("custom"===c.loader)throw Object.defineProperty(Error('Image with src "'+h+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=B;B=t=>{let{config:r,...n}=t;return e(n)}}if(j){"fill"===j&&(_=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[j];e&&(E={...E,...e});let t={responsive:"100vw",fill:"100vw"}[j];t&&!d&&(d=t)}let z="",V=a(b),W=a(w);if((u=h)&&"object"==typeof u&&(o(u)||void 0!==u.src)){let e=o(h)?h.default:h;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(l=e.blurWidth,f=e.blurHeight,I=I||e.blurDataURL,z=e.src,!_)if(V||W){if(V&&!W){let t=V/e.width;W=Math.round(e.height*t)}else if(!V&&W){let t=W/e.height;V=Math.round(e.width*t)}}else V=e.width,W=e.height}let H=!y&&("lazy"===g||void 0===g);(!(h="string"==typeof h?h:z)||h.startsWith("data:")||h.startsWith("blob:"))&&(p=!0,H=!1),c.unoptimized&&(p=!0),F&&!c.dangerouslyAllowSVG&&h.split("?",1)[0].endsWith(".svg")&&(p=!0);let J=a(m),G=Object.assign(_?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:A,objectPosition:k}:{},M?{}:{color:"transparent"},E),X=N||"empty"===T?null:"blur"===T?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:V,heightInt:W,blurWidth:l,blurHeight:f,blurDataURL:I||"",objectFit:G.objectFit})+'")':'url("'+T+'")',Y=s.includes(G.objectFit)?"fill"===G.objectFit?"100% 100%":"cover":G.objectFit,K=X?{backgroundSize:Y,backgroundPosition:G.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},Q=function(e){let{config:t,src:r,unoptimized:n,width:i,quality:s,sizes:o,loader:a}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:u,kind:c}=function(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}(t,i,o),l=u.length-1;return{sizes:o||"w"!==c?o:"100vw",srcSet:u.map((e,n)=>a({config:t,src:r,quality:s,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:a({config:t,src:r,quality:s,width:u[l]})}}({config:c,src:h,unoptimized:p,width:V,quality:J,sizes:d,loader:B});return{props:{...P,loading:H?"lazy":g,fetchPriority:R,width:V,height:W,decoding:O,className:v,style:{...G,...K},sizes:Q.sizes,srcSet:Q.srcSet,src:x||Q.src},meta:{unoptimized:p,priority:y,placeholder:T,fill:_}}}},8906:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{D:()=>n})},9249:(e,t,r)=>{"use strict";r.d(t,{AQ:()=>f,C6:()=>i,Ju:()=>a,N3:()=>l,YH:()=>o,fX:()=>c,sH:()=>s,xN:()=>h,zs:()=>u});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function s(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}u((n=n.apply(e,t||[])).next())})}function o(e,t){var r,n,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){var c=[a,u];if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=t.call(e,s)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function c(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function f(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})},t&&(n[e]=t(n[e])))}function a(e,t){try{var r;(r=i[e](t)).value instanceof l?Promise.resolve(r.value.v).then(u,c):f(s[0][2],r)}catch(e){f(s[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function h(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=a(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var s,o,a;s=n,o=i,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},9332:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var n=new(r(4354)).c(function(e){return e.complete()})},9340:(e,t,r)=>{"use strict";r.d(t,{$:()=>R,B:()=>K,C:()=>e_,D:()=>H,E:()=>eI,F:()=>X,G:()=>em,H:()=>function e(t,r,n,i){if("string"==typeof r){let e=eo(t,r).next(n,i);return e&&e.length?e:t.next(n,i)}if(1===Object.keys(r).length){let s=Object.keys(r),o=e(eo(t,s[0]),r[s[0]],n,i);return o&&o.length?o:t.next(n,i)}let s=[];for(let o of Object.keys(r)){let a=r[o];if(!a)continue;let u=e(eo(t,o),a,n,i);u&&s.push(...u)}return s.length?s:t.next(n,i)},I:()=>ev,J:()=>f,K:()=>ep,L:()=>es,M:()=>p,N:()=>s,O:()=>Y,P:()=>ea,Q:()=>eO,R:()=>S,S:()=>i,T:()=>a,U:()=>l,V:()=>O,W:()=>eR,X:()=>u,c:()=>k,f:()=>P,g:()=>eu,h:()=>N,k:()=>B,l:()=>g,q:()=>ee,r:()=>ek,t:()=>v,u:()=>w,v:()=>Z,w:()=>F,x:()=>x,y:()=>Q,z:()=>et});class n{constructor(e){this._process=e,this._active=!1,this._current=null,this._last=null}start(){this._active=!0,this.flush()}clear(){this._current&&(this._current.next=null,this._last=this._current)}enqueue(e){let t={value:e,next:null};if(this._current){this._last.next=t,this._last=t;return}this._current=t,this._last=t,this._active&&this.flush()}flush(){for(;this._current;){let e=this._current;this._process(e.value),this._current=e.next}this._last=null}}let i=".",s="",o="xstate.init",a="xstate.error",u="xstate.stop";function c(e,t){return{type:`xstate.done.state.${e}`,output:t}}function l(e,t){return{type:`xstate.error.actor.${e}`,error:t,actorId:e}}function f(e){return{type:o,input:e}}function h(e){setTimeout(()=>{throw e})}let d="function"==typeof Symbol&&Symbol.observable||"@@observable";function p(e){if(b(e))return e;let t=[],r="";for(let n=0;n<e.length;n++){switch(e.charCodeAt(n)){case 92:r+=e[n+1],n++;continue;case 46:t.push(r),r="";continue}r+=e[n]}return t.push(r),t}function y(e){var t;return(t=e)&&"object"==typeof t&&"machine"in t&&"value"in t?e.value:"string"!=typeof e?e:function(e){if(1===e.length)return e[0];let t={},r=t;for(let t=0;t<e.length-1;t++)if(t===e.length-2)r[e[t]]=e[t+1];else{let n=r;r={},n[e[t]]=r}return t}(p(e))}function g(e,t){let r={},n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i];r[s]=t(e[s],s,e,i)}return r}function v(e){var t;return void 0===e?[]:b(t=e)?t:[t]}function m(e,t,r,n){return"function"==typeof e?e({context:t,event:r,self:n}):e}function b(e){return Array.isArray(e)}function w(e){var t;return(b(t=e)?t:[t]).map(e=>void 0===e||"string"==typeof e?{target:e}:e)}function _(e){if(void 0!==e&&""!==e)return v(e)}function E(e,t,r){let n="object"==typeof e,i=n?e:void 0;return{next:(n?e.next:e)?.bind(i),error:(n?e.error:t)?.bind(i),complete:(n?e.complete:r)?.bind(i)}}function x(e,t){return`${t}.${e}`}function S(e,t){let r=t.match(/^xstate\.invoke\.(\d+)\.(.*)/);if(!r)return e.implementations.actors[t];let[,n,i]=r,s=e.getStateNodeById(i).config.invoke;return(Array.isArray(s)?s[n]:s).src}function C(e,t){return`${e.sessionId}.${t}`}let T=0,I=!1,R=1,O=function(e){return e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped",e}({}),j={clock:{setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},logger:console.log.bind(console),devTools:!1};class A{constructor(e,t){this.logic=e,this._snapshot=void 0,this.clock=void 0,this.options=void 0,this.id=void 0,this.mailbox=new n(this._process.bind(this)),this.observers=new Set,this.eventListeners=new Map,this.logger=void 0,this._processingStatus=O.NotStarted,this._parent=void 0,this._syncSnapshot=void 0,this.ref=void 0,this._actorScope=void 0,this._systemId=void 0,this.sessionId=void 0,this.system=void 0,this._doneEvent=void 0,this.src=void 0,this._deferred=[];let r={...j,...t},{clock:i,logger:s,parent:o,syncSnapshot:a,id:u,systemId:c,inspect:l}=r;this.system=o?o.system:function(e,t){let r=new Map,n=new Map,i=new WeakMap,s=new Set,o={},{clock:a,logger:u}=t,c={schedule:(e,t,r,n,i=Math.random().toString(36).slice(2))=>{let s={source:e,target:t,event:r,delay:n,id:i,startedAt:Date.now()},u=C(e,i);l._snapshot._scheduledEvents[u]=s;let c=a.setTimeout(()=>{delete o[u],delete l._snapshot._scheduledEvents[u],l._relay(e,t,r)},n);o[u]=c},cancel:(e,t)=>{let r=C(e,t),n=o[r];delete o[r],delete l._snapshot._scheduledEvents[r],void 0!==n&&a.clearTimeout(n)},cancelAll:e=>{for(let t in l._snapshot._scheduledEvents){let r=l._snapshot._scheduledEvents[t];r.source===e&&c.cancel(e,r.id)}}},l={_snapshot:{_scheduledEvents:(t?.snapshot&&t.snapshot.scheduler)??{}},_bookId:()=>`x:${T++}`,_register:(e,t)=>(r.set(e,t),e),_unregister:e=>{r.delete(e.sessionId);let t=i.get(e);void 0!==t&&(n.delete(t),i.delete(e))},get:e=>n.get(e),_set:(e,t)=>{let r=n.get(e);if(r&&r!==t)throw Error(`Actor with system ID '${e}' already exists.`);n.set(e,t),i.set(t,e)},inspect:e=>{let t=E(e);return s.add(t),{unsubscribe(){s.delete(t)}}},_sendInspectionEvent:t=>{if(!s.size)return;let r={...t,rootId:e.sessionId};s.forEach(e=>e.next?.(r))},_relay:(e,t,r)=>{l._sendInspectionEvent({type:"@xstate.event",sourceRef:e,actorRef:t,event:r}),t._send(r)},scheduler:c,getSnapshot:()=>({_scheduledEvents:{...l._snapshot._scheduledEvents}}),start:()=>{let e=l._snapshot._scheduledEvents;for(let t in l._snapshot._scheduledEvents={},e){let{source:r,target:n,event:i,delay:s,id:o}=e[t];c.schedule(r,n,i,s,o)}},_clock:a,_logger:u};return l}(this,{clock:i,logger:s}),l&&!o&&this.system.inspect(E(l)),this.sessionId=this.system._bookId(),this.id=u??this.sessionId,this.logger=t?.logger??this.system._logger,this.clock=t?.clock??this.system._clock,this._parent=o,this._syncSnapshot=a,this.options=r,this.src=r.src??e,this.ref=this,this._actorScope={self:this,id:this.id,sessionId:this.sessionId,logger:this.logger,defer:e=>{this._deferred.push(e)},system:this.system,stopChild:e=>{if(e._parent!==this)throw Error(`Cannot stop child actor ${e.id} of ${this.id} because it is not a child`);e._stop()},emit:e=>{let t=this.eventListeners.get(e.type),r=this.eventListeners.get("*");if(t||r)for(let n of[...t?t.values():[],...r?r.values():[]])n(e)},actionExecutor:e=>{let t=()=>{if(this._actorScope.system._sendInspectionEvent({type:"@xstate.action",actorRef:this,action:{type:e.type,params:e.params}}),!e.exec)return;let t=I;try{I=!0,e.exec(e.info,e.params)}finally{I=t}};this._processingStatus===O.Running?t():this._deferred.push(t)}},this.send=this.send.bind(this),this.system._sendInspectionEvent({type:"@xstate.actor",actorRef:this}),c&&(this._systemId=c,this.system._set(c,this)),this._initState(t?.snapshot??t?.state),c&&"active"!==this._snapshot.status&&this.system._unregister(this)}_initState(e){try{this._snapshot=e?this.logic.restoreSnapshot?this.logic.restoreSnapshot(e,this._actorScope):e:this.logic.getInitialSnapshot(this._actorScope,this.options?.input)}catch(e){this._snapshot={status:"error",output:void 0,error:e}}}update(e,t){let r;for(this._snapshot=e;r=this._deferred.shift();)try{r()}catch(t){this._deferred.length=0,this._snapshot={...e,status:"error",error:t}}switch(this._snapshot.status){case"active":for(let t of this.observers)try{t.next?.(e)}catch(e){h(e)}break;case"done":var n;for(let t of this.observers)try{t.next?.(e)}catch(e){h(e)}this._stopProcedure(),this._complete(),this._doneEvent=(n=this.id,{type:`xstate.done.actor.${n}`,output:this._snapshot.output,actorId:n}),this._parent&&this.system._relay(this,this._parent,this._doneEvent);break;case"error":this._error(this._snapshot.error)}this.system._sendInspectionEvent({type:"@xstate.snapshot",actorRef:this,event:t,snapshot:e})}subscribe(e,t,r){let n=E(e,t,r);if(this._processingStatus!==O.Stopped)this.observers.add(n);else switch(this._snapshot.status){case"done":try{n.complete?.()}catch(e){h(e)}break;case"error":{let e=this._snapshot.error;if(n.error)try{n.error(e)}catch(e){h(e)}else h(e)}}return{unsubscribe:()=>{this.observers.delete(n)}}}on(e,t){let r=this.eventListeners.get(e);r||(r=new Set,this.eventListeners.set(e,r));let n=t.bind(void 0);return r.add(n),{unsubscribe:()=>{r.delete(n)}}}start(){if(this._processingStatus===O.Running)return this;this._syncSnapshot&&this.subscribe({next:e=>{"active"===e.status&&this.system._relay(this,this._parent,{type:`xstate.snapshot.${this.id}`,snapshot:e})},error:()=>{}}),this.system._register(this.sessionId,this),this._systemId&&this.system._set(this._systemId,this),this._processingStatus=O.Running;let e=f(this.options.input);switch(this.system._sendInspectionEvent({type:"@xstate.event",sourceRef:this._parent,actorRef:this,event:e}),this._snapshot.status){case"done":return this.update(this._snapshot,e),this;case"error":return this._error(this._snapshot.error),this}if(this._parent||this.system.start(),this.logic.start)try{this.logic.start(this._snapshot,this._actorScope)}catch(e){return this._snapshot={...this._snapshot,status:"error",error:e},this._error(e),this}return this.update(this._snapshot,e),this.options.devTools&&this.attachDevTools(),this.mailbox.start(),this}_process(e){let t,r;try{t=this.logic.transition(this._snapshot,e,this._actorScope)}catch(e){r={err:e}}if(r){let{err:e}=r;this._snapshot={...this._snapshot,status:"error",error:e},this._error(e);return}this.update(t,e),e.type===u&&(this._stopProcedure(),this._complete())}_stop(){return this._processingStatus===O.Stopped||((this.mailbox.clear(),this._processingStatus===O.NotStarted)?this._processingStatus=O.Stopped:this.mailbox.enqueue({type:u})),this}stop(){if(this._parent)throw Error("A non-root actor cannot be stopped directly.");return this._stop()}_complete(){for(let e of this.observers)try{e.complete?.()}catch(e){h(e)}this.observers.clear()}_reportError(e){if(!this.observers.size){this._parent||h(e);return}let t=!1;for(let r of this.observers){let n=r.error;t||=!n;try{n?.(e)}catch(e){h(e)}}this.observers.clear(),t&&h(e)}_error(e){this._stopProcedure(),this._reportError(e),this._parent&&this.system._relay(this,this._parent,l(this.id,e))}_stopProcedure(){return this._processingStatus!==O.Running||(this.system.scheduler.cancelAll(this),this.mailbox.clear(),this.mailbox=new n(this._process.bind(this)),this._processingStatus=O.Stopped,this.system._unregister(this)),this}_send(e){this._processingStatus!==O.Stopped&&this.mailbox.enqueue(e)}send(e){this.system._relay(void 0,this,e)}attachDevTools(){let{devTools:e}=this.options;e&&("function"==typeof e?e:e=>{if("undefined"==typeof window)return;let t=function(){let e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0;if(e.__xstate__)return e.__xstate__}();t&&t.register(e)})(this)}toJSON(){return{xstate$$type:R,id:this.id}}getPersistedSnapshot(e){return this.logic.getPersistedSnapshot(this._snapshot,e)}[d](){return this}getSnapshot(){return this._snapshot}}function k(e,...[t]){return new A(e,t)}function $(e,t,r,n,{sendId:i}){return[t,{sendId:"function"==typeof i?i(r,n):i},void 0]}function q(e,t){e.defer(()=>{e.system.scheduler.cancel(e.self,t.sendId)})}function P(e){function t(e,t){}return t.type="xstate.cancel",t.sendId=e,t.resolve=$,t.execute=q,t}function U(e,t,r,n,{id:i,systemId:s,src:o,input:a,syncSnapshot:u}){let c,l,f="string"==typeof o?S(t.machine,o):o,h="function"==typeof i?i(r):i;return f&&(l="function"==typeof a?a({context:t.context,event:r.event,self:e.self}):a,c=k(f,{id:h,src:o,parent:e.self,syncSnapshot:u,systemId:s,input:l})),[eR(t,{children:{...t.children,[h]:c}}),{id:i,systemId:s,actorRef:c,src:o,input:l},void 0]}function M(e,{actorRef:t}){t&&e.defer(()=>{t._processingStatus!==O.Stopped&&t.start()})}function N(...[e,{id:t,systemId:r,input:n,syncSnapshot:i=!1}={}]){function s(e,t){}return s.type="xstate.spawnChild",s.id=t,s.systemId=r,s.src=e,s.input=n,s.syncSnapshot=i,s.resolve=U,s.execute=M,s}function D(e,t,r,n,{actorRef:i}){let s="function"==typeof i?i(r,n):i,o="string"==typeof s?t.children[s]:s,a=t.children;return o&&(a={...a},delete a[o.id]),[eR(t,{children:a}),o,void 0]}function L(e,t){if(t){if(e.system._unregister(t),t._processingStatus!==O.Running)return void e.stopChild(t);e.defer(()=>{e.stopChild(t)})}}function B(e){function t(e,t){}return t.type="xstate.stopChild",t.actorRef=e,t.resolve=D,t.execute=L,t}function F(e,t,r,n){let{machine:i}=n,s="function"==typeof e,o=s?e:i.implementations.guards["string"==typeof e?e:e.type];if(!s&&!o)throw Error(`Guard '${"string"==typeof e?e:e.type}' is not implemented.'.`);if("function"!=typeof o)return F(o,t,r,n);let a={context:t,event:r},u=s||"string"==typeof e?void 0:"params"in e?"function"==typeof e.params?e.params({context:t,event:r}):e.params:void 0;return"check"in o?o.check(n,a,o):o(a,u)}let z=e=>"atomic"===e.type||"final"===e.type;function V(e){return Object.values(e.states).filter(e=>"history"!==e.type)}function W(e,t){let r=[];if(t===e)return r;let n=e.parent;for(;n&&n!==t;)r.push(n),n=n.parent;return r}function H(e){let t=new Set(e),r=J(t);for(let e of t)if("compound"!==e.type||r.get(e)&&r.get(e).length){if("parallel"===e.type){for(let r of V(e))if("history"!==r.type&&!t.has(r))for(let e of ei(r))t.add(e)}}else ei(e).forEach(e=>t.add(e));for(let e of t){let r=e.parent;for(;r;)t.add(r),r=r.parent}return t}function J(e){let t=new Map;for(let r of e)t.has(r)||t.set(r,[]),r.parent&&(t.has(r.parent)||t.set(r.parent,[]),t.get(r.parent).push(r));return t}function G(e,t){return function e(t,r){let n=r.get(t);if(!n)return{};if("compound"===t.type){let e=n[0];if(!e)return{};if(z(e))return e.key}let i={};for(let t of n)i[t.key]=e(t,r);return i}(e,J(H(t)))}function X(e,t){return"compound"===t.type?V(t).some(t=>"final"===t.type&&e.has(t)):"parallel"===t.type?V(t).every(t=>X(e,t)):"final"===t.type}let Y=e=>"#"===e[0];function K(e,t){return e.transitions.get(t)||[...e.transitions.keys()].filter(e=>{if("*"===e)return!0;if(!e.endsWith(".*"))return!1;let r=e.split("."),n=t.split(".");for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if("*"===t)return e===r.length-1;if(t!==i)return!1}return!0}).sort((e,t)=>t.length-e.length).flatMap(t=>e.transitions.get(t))}function Q(e){let t=e.config.after;return t?Object.keys(t).flatMap(r=>{let n=t[r],i=Number.isNaN(+r)?r:+r,s=(t=>{var r;let n=(r=e.id,{type:`xstate.after.${t}.${r}`}),i=n.type;return e.entry.push(ek(n,{id:i,delay:t})),e.exit.push(P(i)),i})(i);return v("string"==typeof n?{target:n}:n).map(e=>({...e,event:s,delay:i}))}).map(t=>{let{delay:r}=t;return{...Z(e,t.event,t),delay:r}}):[]}function Z(e,t,r){let n=_(r.target),s=r.reenter??!1,o=function(e,t){if(void 0!==t)return t.map(t=>{if("string"!=typeof t)return t;if(Y(t))return e.machine.getStateNodeById(t);let r=t[0]===i;if(r&&!e.parent)return ea(e,t.slice(1));let n=r?e.key+t:t;if(e.parent)try{return ea(e.parent,n)}catch(t){throw Error(`Invalid transition definition for state node '${e.id}':
${t.message}`)}throw Error(`Invalid target: "${t}" is not a valid target from the root node. Did you mean ".${t}"?`)})}(e,n),a={...r,actions:v(r.actions),guard:r.guard,target:o,source:e,reenter:s,eventType:t,toJSON:()=>({...a,source:`#${e.id}`,target:o?o.map(e=>`#${e.id}`):void 0})};return a}function ee(e){let t=new Map;if(e.config.on)for(let r of Object.keys(e.config.on)){if(r===s)throw Error('Null events ("") cannot be specified as a transition key. Use `always: { ... }` instead.');let n=e.config.on[r];t.set(r,w(n).map(t=>Z(e,r,t)))}if(e.config.onDone){let r=`xstate.done.state.${e.id}`;t.set(r,w(e.config.onDone).map(t=>Z(e,r,t)))}for(let r of e.invoke){if(r.onDone){let n=`xstate.done.actor.${r.id}`;t.set(n,w(r.onDone).map(t=>Z(e,n,t)))}if(r.onError){let n=`xstate.error.actor.${r.id}`;t.set(n,w(r.onError).map(t=>Z(e,n,t)))}if(r.onSnapshot){let n=`xstate.snapshot.${r.id}`;t.set(n,w(r.onSnapshot).map(t=>Z(e,n,t)))}}for(let r of e.after){let e=t.get(r.eventType);e||(e=[],t.set(r.eventType,e)),e.push(r)}return t}function et(e,t){let r="string"==typeof t?e.states[t]:t?e.states[t.target]:void 0;if(!r&&t)throw Error(`Initial state node "${t}" not found on parent state node #${e.id}`);let n={source:e,actions:t&&"string"!=typeof t?v(t.actions):[],eventType:null,reenter:!1,target:r?[r]:[],toJSON:()=>({...n,source:`#${e.id}`,target:r?[`#${r.id}`]:[]})};return n}function er(e){let t=_(e.config.target);return t?{target:t.map(t=>"string"==typeof t?ea(e.parent,t):t)}:e.parent.initial}function en(e){return"history"===e.type}function ei(e){let t=es(e);for(let r of t)for(let n of W(r,e))t.add(n);return t}function es(e){let t=new Set;return!function e(r){if(!t.has(r)){if(t.add(r),"compound"===r.type)e(r.initial.target[0]);else if("parallel"===r.type)for(let t of V(r))e(t)}}(e),t}function eo(e,t){if(Y(t))return e.machine.getStateNodeById(t);if(!e.states)throw Error(`Unable to retrieve child state '${t}' from '${e.id}'; no child states exist.`);let r=e.states[t];if(!r)throw Error(`Child state '${t}' does not exist on '${e.id}'`);return r}function ea(e,t){if("string"==typeof t&&Y(t))try{return e.machine.getStateNodeById(t)}catch{}let r=p(t).slice(),n=e;for(;r.length;){let e=r.shift();if(!e.length)break;n=eo(n,e)}return n}function eu(e,t){if("string"==typeof t){let r=e.states[t];if(!r)throw Error(`State '${t}' does not exist on '${e.id}'`);return[e,r]}let r=Object.keys(t),n=r.map(t=>eo(e,t)).filter(Boolean);return[e.machine.root,e].concat(n,r.reduce((r,n)=>{let i=eo(e,n);if(!i)return r;let s=eu(i,t[n]);return r.concat(s)},[]))}function ec(e,t){let r=e;for(;r.parent&&r.parent!==t;)r=r.parent;return r.parent===t}function el(e,t,r){let n=new Set;for(let i of e){let e=!1,s=new Set;for(let o of n)if(function(e,t){let r=new Set(e),n=new Set(t);for(let e of r)if(n.has(e))return!0;for(let e of n)if(r.has(e))return!0;return!1}(ed([i],t,r),ed([o],t,r)))if(ec(i.source,o.source))s.add(o);else{e=!0;break}if(!e){for(let e of s)n.delete(e);n.add(i)}}return Array.from(n)}function ef(e,t){if(!e.target)return[];let r=new Set;for(let n of e.target)if(en(n))if(t[n.id])for(let e of t[n.id])r.add(e);else for(let e of ef(er(n),t))r.add(e);else r.add(n);return[...r]}function eh(e,t){let r=ef(e,t);if(!r)return;if(!e.reenter&&r.every(t=>t===e.source||ec(t,e.source)))return e.source;let n=function(e){let[t,...r]=e;for(let e of W(t,void 0))if(r.every(t=>ec(t,e)))return e}(r.concat(e.source));return n||(e.reenter?void 0:e.source.machine.root)}function ed(e,t,r){let n=new Set;for(let i of e)if(i.target?.length){let e=eh(i,r);for(let r of(i.reenter&&i.source===e&&n.add(e),t))ec(r,e)&&n.add(r)}return[...n]}function ep(e,t,r,n,i,s){if(!e.length)return t;let o=new Set(t._nodes),a=t.historyValue,u=el(e,o,a),l=t;i||([l,a]=function(e,t,r,n,i,s,o,a){let u,c=e,l=ed(n,i,s);for(let e of(l.sort((e,t)=>t.order-e.order),l))for(let t of function(e){return Object.keys(e.states).map(t=>e.states[t]).filter(e=>"history"===e.type)}(e)){let r;r="deep"===t.history?t=>z(t)&&ec(t,e):t=>t.parent===e,(u??={...s})[t.id]=Array.from(i).filter(r)}for(let e of l)c=ev(c,t,r,[...e.exit,...e.invoke.map(e=>B(e.id))],o,void 0),i.delete(e);return[c,u||s]}(l,n,r,u,o,a,s,r.actionExecutor)),l=function(e,t,r,n,i,s,o,a){let u=e,l=new Set,f=new Set;(function(e,t,r,n){for(let i of e){let e=eh(i,t);for(let s of i.target||[])!en(s)&&(i.source!==s||i.source!==e||i.reenter)&&(n.add(s),r.add(s)),ey(s,t,r,n);for(let s of ef(i,t)){let o=W(s,e);e?.type==="parallel"&&o.push(e),eg(n,t,r,o,!i.source.parent&&i.reenter?void 0:e)}}})(n,o,f,l),a&&f.add(e.machine.root);let h=new Set;for(let e of[...l].sort((e,t)=>e.order-t.order)){i.add(e);let n=[];for(let t of(n.push(...e.entry),e.invoke))n.push(N(t.src,{...t,syncSnapshot:!!t.onSnapshot}));if(f.has(e)){let t=e.initial.actions;n.push(...t)}if(u=ev(u,t,r,n,s,e.invoke.map(e=>e.id)),"final"===e.type){let n=e.parent,o=n?.type==="parallel"?n:n?.parent,a=o||e;for(n?.type==="compound"&&s.push(c(n.id,void 0!==e.output?m(e.output,u.context,t,r.self):void 0));o?.type==="parallel"&&!h.has(o)&&X(i,o);)h.add(o),s.push(c(o.id)),a=o,o=o.parent;if(o)continue;u=eR(u,{status:"done",output:function(e,t,r,n,i){if(void 0===n.output)return;let s=c(i.id,void 0!==i.output&&i.parent?m(i.output,e.context,t,r.self):void 0);return m(n.output,e.context,s,r.self)}(u,t,r,u.machine.root,a)})}}return u}(l=ev(l,n,r,u.flatMap(e=>e.actions),s,void 0),n,r,u,o,s,a,i);let f=[...o];"done"===l.status&&(l=ev(l,n,r,f.sort((e,t)=>t.order-e.order).flatMap(e=>e.exit),s,void 0));try{if(a===t.historyValue&&function(e,t){if(e.length!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}(t._nodes,o))return l;return eR(l,{_nodes:f,historyValue:a})}catch(e){throw e}}function ey(e,t,r,n){var i,s,o,a;if(en(e))if(t[e.id]){let o=t[e.id];for(let e of o)n.add(e),ey(e,t,r,n);for(let a of o){i=a,s=e.parent,eg(n,t,r,W(i,s))}}else{let i=er(e);for(let s of i.target)n.add(s),i===e.parent?.initial&&r.add(e.parent),ey(s,t,r,n);for(let s of i.target){o=s,a=e.parent,eg(n,t,r,W(o,a))}}else if("compound"===e.type){let[i]=e.initial.target;en(i)||(n.add(i),r.add(i)),ey(i,t,r,n),eg(n,t,r,W(i,e))}else if("parallel"===e.type)for(let i of V(e).filter(e=>!en(e)))[...n].some(e=>ec(e,i))||(en(i)||(n.add(i),r.add(i)),ey(i,t,r,n))}function eg(e,t,r,n,i){for(let s of n)if((!i||ec(s,i))&&e.add(s),"parallel"===s.type)for(let n of V(s).filter(e=>!en(e)))[...e].some(e=>ec(e,n))||(e.add(n),ey(n,t,r,e))}function ev(e,t,r,n,i,s){let o=s?[]:void 0,a=function e(t,r,n,i,s,o){let{machine:a}=t,u=t;for(let t of i){var c;let i="function"==typeof t,l=i?t:(c="string"==typeof t?t:t.type,a.implementations.actions[c]),f={context:u.context,event:r,self:n.self,system:n.system},h=i||"string"==typeof t?void 0:"params"in t?"function"==typeof t.params?t.params({context:u.context,event:r}):t.params:void 0;if(!l||!("resolve"in l)){n.actionExecutor({type:"string"==typeof t?t:"object"==typeof t?t.type:t.name||"(anonymous)",info:f,params:h,exec:l});continue}let[d,p,y]=l.resolve(n,u,f,h,l,s);u=d,"retryResolve"in l&&o?.push([l,p]),"execute"in l&&n.actionExecutor({type:l.type,info:f,params:p,exec:l.execute.bind(null,n,p)}),y&&(u=e(u,r,n,y,s,o))}return u}(e,t,r,n,{internalQueue:i,deferredActorIds:s},o);return o?.forEach(([e,t])=>{e.retryResolve(r,a,t)}),a}function em(e,t,r,n){let i=e,s=[];function a(e,t,n){r.system._sendInspectionEvent({type:"@xstate.microstep",actorRef:r.self,event:t,snapshot:e,_transitions:n}),s.push(e)}if(t.type===u)return a(i=eR(eb(i,t,r),{status:"stopped"}),t,[]),{snapshot:i,microstates:s};let c=t;if(c.type!==o){let t=c,o=t.type.startsWith("xstate.error.actor"),u=ew(t,i);if(o&&!u.length)return a(i=eR(e,{status:"error",error:t.error}),t,[]),{snapshot:i,microstates:s};a(i=ep(u,e,r,c,!1,n),t,u)}let l=!0;for(;"active"===i.status;){let e=l?function(e,t){let r=new Set;for(let n of e._nodes.filter(z))e:for(let i of[n].concat(W(n,void 0)))if(i.always){for(let n of i.always)if(void 0===n.guard||F(n.guard,e.context,t,e)){r.add(n);break e}}return el(Array.from(r),new Set(e._nodes),e.historyValue)}(i,c):[],t=e.length?i:void 0;if(!e.length){if(!n.length)break;e=ew(c=n.shift(),i)}l=(i=ep(e,i,r,c,!1,n))!==t,a(i,c,e)}return"active"!==i.status&&eb(i,c,r),{snapshot:i,microstates:s}}function eb(e,t,r){return ev(e,t,r,Object.values(e.children).map(e=>B(e)),[],void 0)}function ew(e,t){return t.machine.getTransitionData(t,e)}function e_(e,t){let r=H(eu(e,t));return G(e,[...r])}let eE=function(e){return function e(t,r){let n=y(t),i=y(r);return"string"==typeof i?"string"==typeof n&&i===n:"string"==typeof n?n in i:Object.keys(n).every(t=>t in i&&e(n[t],i[t]))}(e,this.value)},ex=function(e){return this.tags.has(e)},eS=function(e){let t=this.machine.getTransitionData(this,e);return!!t?.length&&t.some(e=>void 0!==e.target||e.actions.length)},eC=function(){let{_nodes:e,tags:t,machine:r,getMeta:n,toJSON:i,can:s,hasTag:o,matches:a,...u}=this;return{...u,tags:Array.from(t)}},eT=function(){return this._nodes.reduce((e,t)=>(void 0!==t.meta&&(e[t.id]=t.meta),e),{})};function eI(e,t){return{status:e.status,output:e.output,error:e.error,machine:t,context:e.context,_nodes:e._nodes,value:G(t.root,e._nodes),tags:new Set(e._nodes.flatMap(e=>e.tags)),children:e.children,historyValue:e.historyValue||{},matches:eE,hasTag:ex,can:eS,getMeta:eT,toJSON:eC}}function eR(e,t={}){return eI({...e,...t},e.machine)}function eO(e,t){let{_nodes:r,tags:n,machine:i,children:s,context:o,can:a,hasTag:u,matches:c,getMeta:l,toJSON:f,...h}=e,d={};for(let e in s){let r=s[e];d[e]={snapshot:r.getPersistedSnapshot(t),src:r.src,systemId:r._systemId,syncSnapshot:r._syncSnapshot}}return{...h,context:function e(t){let r;for(let n in t){let i=t[n];if(i&&"object"==typeof i)if("sessionId"in i&&"send"in i&&"ref"in i)(r??=Array.isArray(t)?t.slice():{...t})[n]={xstate$$type:R,id:i.id};else{let s=e(i);s!==i&&((r??=Array.isArray(t)?t.slice():{...t})[n]=s)}}return r??t}(o),children:d,historyValue:function(e){if("object"!=typeof e||null===e)return{};let t={};for(let r in e){let n=e[r];Array.isArray(n)&&(t[r]=n.map(e=>({id:e.id})))}return t}(h.historyValue)}}function ej(e,t,r,n,{event:i,id:s,delay:o},{internalQueue:a}){let u,c=t.machine.implementations.delays;if("string"==typeof i)throw Error(`Only event objects may be used with raise; use raise({ type: "${i}" }) instead`);let l="function"==typeof i?i(r,n):i;if("string"==typeof o){let e=c&&c[o];u="function"==typeof e?e(r,n):e}else u="function"==typeof o?o(r,n):o;return"number"!=typeof u&&a.push(l),[t,{event:l,id:s,delay:u},void 0]}function eA(e,t){let{event:r,delay:n,id:i}=t;if("number"==typeof n)return void e.defer(()=>{let t=e.self;e.system.scheduler.schedule(t,t,r,n,i)})}function ek(e,t){function r(e,t){}return r.type="xstate.raise",r.event=e,r.id=t?.id,r.delay=t?.delay,r.resolve=ej,r.execute=eA,r}},9549:(e,t,r)=>{"use strict";r.d(t,{R0:()=>u,lI:()=>a,ms:()=>o});var n=r(1208),i=r(2021);function s(e){return e[e.length-1]}function o(e){return(0,n.T)(s(e))?e.pop():void 0}function a(e){return(0,i.m)(s(e))?e.pop():void 0}function u(e,t){return"number"==typeof s(e)?e.pop():t}},9620:(e,t,r)=>{"use strict";r.d(t,{a:()=>y,b:()=>h,e:()=>a,s:()=>d});var n=r(9340),i=r(647);function s(e,t,r,n,{event:i}){return[t,{event:"function"==typeof i?i(r,n):i},void 0]}function o(e,{event:t}){e.defer(()=>e.emit(t))}function a(e){function t(e,t){}return t.type="xstate.emit",t.event=e,t.resolve=s,t.execute=o,t}let u=function(e){return e.Parent="#_parent",e.Internal="#_internal",e}({});function c(e,t,r,n,{to:i,event:s,id:o,delay:a},c){let l,f,h=t.machine.implementations.delays;if("string"==typeof s)throw Error(`Only event objects may be used with sendTo; use sendTo({ type: "${s}" }) instead`);let d="function"==typeof s?s(r,n):s;if("string"==typeof a){let e=h&&h[a];l="function"==typeof e?e(r,n):e}else l="function"==typeof a?a(r,n):a;let p="function"==typeof i?i(r,n):i;if("string"==typeof p){if(!(f=p===u.Parent?e.self._parent:p===u.Internal?e.self:p.startsWith("#_")?t.children[p.slice(2)]:c.deferredActorIds?.includes(p)?p:t.children[p]))throw Error(`Unable to send event to actor '${p}' from machine '${t.machine.id}'.`)}else f=p||e.self;return[t,{to:f,targetId:"string"==typeof p?p:void 0,event:d,id:o,delay:l},void 0]}function l(e,t,r){"string"==typeof r.to&&(r.to=t.children[r.to])}function f(e,t){e.defer(()=>{let{to:r,event:i,delay:s,id:o}=t;if("number"==typeof s)return void e.system.scheduler.schedule(e.self,r,i,s,o);e.system._relay(e.self,r,i.type===n.T?(0,n.U)(e.self.id,i.data):i)})}function h(e,t,r){function n(e,t){}return n.type="xstate.sendTo",n.to=e,n.event=t,n.id=r?.id,n.delay=r?.delay,n.resolve=c,n.retryResolve=l,n.execute=f,n}function d(e,t){return h(u.Parent,e,t)}function p(e,t,r,s,{collect:o}){let u=[],c=function(e){u.push(e)};return c.assign=(...e)=>{u.push((0,i.a)(...e))},c.cancel=(...e)=>{u.push((0,n.f)(...e))},c.raise=(...e)=>{u.push((0,n.r)(...e))},c.sendTo=(...e)=>{u.push(h(...e))},c.sendParent=(...e)=>{u.push(d(...e))},c.spawnChild=(...e)=>{u.push((0,n.h)(...e))},c.stopChild=(...e)=>{u.push((0,n.k)(...e))},c.emit=(...e)=>{u.push(a(...e))},o({context:r.context,event:r.event,enqueue:c,check:e=>(0,n.w)(e,t.context,r.event,t),self:e.self,system:e.system},s),[t,void 0,u]}function y(e){function t(e,t){}return t.type="xstate.enqueueActions",t.collect=e,t.resolve=p,t}},9632:(e,t,r)=>{"use strict";r.d(t,{DT:()=>f,mj:()=>h}),r(898);var n=r(9340),i=r(647);let s=new WeakMap;function o(e,t,r){let n=s.get(e);return n?t in n||(n[t]=r()):(n={[t]:r()},s.set(e,n)),n[t]}let a={},u=e=>"string"==typeof e?{type:e}:"function"==typeof e?"resolve"in e?{type:e.type}:{type:e.name}:e;class c{constructor(e,t){if(this.config=e,this.key=void 0,this.id=void 0,this.type=void 0,this.path=void 0,this.states=void 0,this.history=void 0,this.entry=void 0,this.exit=void 0,this.parent=void 0,this.machine=void 0,this.meta=void 0,this.output=void 0,this.order=-1,this.description=void 0,this.tags=[],this.transitions=void 0,this.always=void 0,this.parent=t._parent,this.key=t._key,this.machine=t._machine,this.path=this.parent?this.parent.path.concat(this.key):[],this.id=this.config.id||[this.machine.id,...this.path].join(n.S),this.type=this.config.type||(this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.description=this.config.description,this.order=this.machine.idMap.size,this.machine.idMap.set(this.id,this),this.states=this.config.states?(0,n.l)(this.config.states,(e,t)=>new c(e,{_parent:this,_key:t,_machine:this.machine})):a,"compound"===this.type&&!this.config.initial)throw Error(`No initial state specified for compound state node "#${this.id}". Try adding { initial: "${Object.keys(this.states)[0]}" } to the state config.`);this.history=!0===this.config.history?"shallow":this.config.history||!1,this.entry=(0,n.t)(this.config.entry).slice(),this.exit=(0,n.t)(this.config.exit).slice(),this.meta=this.config.meta,this.output="final"!==this.type&&this.parent?void 0:this.config.output,this.tags=(0,n.t)(e.tags).slice()}_initialize(){this.transitions=(0,n.q)(this),this.config.always&&(this.always=(0,n.u)(this.config.always).map(e=>(0,n.v)(this,n.N,e))),Object.keys(this.states).forEach(e=>{this.states[e]._initialize()})}get definition(){return{id:this.id,key:this.key,version:this.machine.version,type:this.type,initial:this.initial?{target:this.initial.target,source:this,actions:this.initial.actions.map(u),eventType:null,reenter:!1,toJSON:()=>({target:this.initial.target.map(e=>`#${e.id}`),source:`#${this.id}`,actions:this.initial.actions.map(u),eventType:null})}:void 0,history:this.history,states:(0,n.l)(this.states,e=>e.definition),on:this.on,transitions:[...this.transitions.values()].flat().map(e=>({...e,actions:e.actions.map(u)})),entry:this.entry.map(u),exit:this.exit.map(u),meta:this.meta,order:this.order||-1,output:this.output,invoke:this.invoke,description:this.description,tags:this.tags}}toJSON(){return this.definition}get invoke(){return o(this,"invoke",()=>(0,n.t)(this.config.invoke).map((e,t)=>{let{src:r,systemId:i}=e,s=e.id??(0,n.x)(this.id,t),o="string"==typeof r?r:`xstate.invoke.${(0,n.x)(this.id,t)}`;return{...e,src:o,id:s,systemId:i,toJSON(){let{onDone:t,onError:r,...n}=e;return{...n,type:"xstate.invoke",src:o,id:s}}}}))}get on(){return o(this,"on",()=>[...this.transitions].flatMap(([e,t])=>t.map(t=>[e,t])).reduce((e,[t,r])=>(e[t]=e[t]||[],e[t].push(r),e),{}))}get after(){return o(this,"delayedTransitions",()=>(0,n.y)(this))}get initial(){return o(this,"initial",()=>(0,n.z)(this,this.config.initial))}next(e,t){let r,i=t.type,s=[];for(let a of o(this,`candidates-${i}`,()=>(0,n.B)(this,i))){let{guard:o}=a,u=e.context,c=!1;try{c=!o||(0,n.w)(o,u,t,e)}catch(t){let e="string"==typeof o?o:"object"==typeof o?o.type:void 0;throw Error(`Unable to evaluate guard ${e?`'${e}' `:""}in transition for event '${i}' in state node '${this.id}':
${t.message}`)}if(c){s.push(...a.actions),r=a;break}}return r?[r]:void 0}get events(){return o(this,"events",()=>{let{states:e}=this,t=new Set(this.ownEvents);if(e)for(let r of Object.keys(e)){let n=e[r];if(n.states)for(let e of n.events)t.add(`${e}`)}return Array.from(t)})}get ownEvents(){return Array.from(new Set([...this.transitions.keys()].filter(e=>this.transitions.get(e).some(e=>!(!e.target&&!e.actions.length&&!e.reenter)))))}}class l{constructor(e,t){this.config=e,this.version=void 0,this.schemas=void 0,this.implementations=void 0,this.__xstatenode=!0,this.idMap=new Map,this.root=void 0,this.id=void 0,this.states=void 0,this.events=void 0,this.id=e.id||"(machine)",this.implementations={actors:t?.actors??{},actions:t?.actions??{},delays:t?.delays??{},guards:t?.guards??{}},this.version=this.config.version,this.schemas=this.config.schemas,this.transition=this.transition.bind(this),this.getInitialSnapshot=this.getInitialSnapshot.bind(this),this.getPersistedSnapshot=this.getPersistedSnapshot.bind(this),this.restoreSnapshot=this.restoreSnapshot.bind(this),this.start=this.start.bind(this),this.root=new c(e,{_key:this.id,_machine:this}),this.root._initialize(),this.states=this.root.states,this.events=this.root.events}provide(e){let{actions:t,guards:r,actors:n,delays:i}=this.implementations;return new l(this.config,{actions:{...t,...e.actions},guards:{...r,...e.guards},actors:{...n,...e.actors},delays:{...i,...e.delays}})}resolveState(e){let t=(0,n.C)(this.root,e.value),r=(0,n.D)((0,n.g)(this.root,t));return(0,n.E)({_nodes:[...r],context:e.context||{},children:{},status:(0,n.F)(r,this.root)?"done":e.status||"active",output:e.output,error:e.error,historyValue:e.historyValue},this)}transition(e,t,r){return(0,n.G)(e,t,r,[]).snapshot}microstep(e,t,r){return(0,n.G)(e,t,r,[]).microstates}getTransitionData(e,t){return(0,n.H)(this.root,e.value,e,t)||[]}getPreInitialState(e,t,r){let{context:s}=this.config,o=(0,n.E)({context:"function"!=typeof s&&s?s:{},_nodes:[this.root],children:{},status:"active"},this);return"function"==typeof s?(0,n.I)(o,t,e,[(0,i.a)(({spawn:e,event:t,self:r})=>s({spawn:e,input:t.input,self:r}))],r,void 0):o}getInitialSnapshot(e,t){let r=(0,n.J)(t),i=[],s=this.getPreInitialState(e,r,i),o=(0,n.K)([{target:[...(0,n.L)(this.root)],source:this.root,reenter:!0,actions:[],eventType:null,toJSON:null}],s,e,r,!0,i),{snapshot:a}=(0,n.G)(o,r,e,i);return a}start(e){Object.values(e.children).forEach(e=>{"active"===e.getSnapshot().status&&e.start()})}getStateNodeById(e){let t=(0,n.M)(e),r=t.slice(1),i=(0,n.O)(t[0])?t[0].slice(1):t[0],s=this.idMap.get(i);if(!s)throw Error(`Child state node '#${i}' does not exist on machine '${this.id}'`);return(0,n.P)(s,r)}get definition(){return this.root.definition}toJSON(){return this.definition}getPersistedSnapshot(e,t){return(0,n.Q)(e,t)}restoreSnapshot(e,t){let r={},i=e.children;Object.keys(i).forEach(e=>{let s=i[e],o=s.snapshot,a=s.src,u="string"==typeof a?(0,n.R)(this,a):a;if(!u)return;let c=(0,n.c)(u,{id:e,parent:t.self,syncSnapshot:s.syncSnapshot,snapshot:o,src:a,systemId:s.systemId});r[e]=c});let s=function(e,t){if(!t||"object"!=typeof t)return{};let r={};for(let n in t)for(let i of t[n]){let t=function(e,t){if(t instanceof c)return t;try{return e.machine.getStateNodeById(t.id)}catch{}}(e,i);t&&(r[n]??=[],r[n].push(t))}return r}(this.root,e.historyValue),o=(0,n.E)({...e,children:r,_nodes:Array.from((0,n.D)((0,n.g)(this.root,e.value))),historyValue:s},this),a=new Set;return!function e(t,r){if(!a.has(t))for(let i in a.add(t),t){let s=t[i];if(s&&"object"==typeof s){if("xstate$$type"in s&&s.xstate$$type===n.$){t[i]=r[s.id];continue}e(s,r)}}}(o.context,r),o}}function f(e,t){let r=(0,n.t)(t);if(!r.includes(e.type)){let t=1===r.length?`type "${r[0]}"`:`one of types "${r.join('", "')}"`;throw Error(`Expected event ${JSON.stringify(e)} to have ${t}`)}}function h({schemas:e,actors:t,actions:r,guards:n,delays:i}){return{createMachine:s=>new l({...s,schemas:e},{actors:t,actions:r,guards:n,delays:i})}}},9647:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(1125),i=r(556);function s(e,t){return(0,n.N)(function(r,n){var s=0;r.subscribe((0,i._)(n,function(r){return e.call(t,r,s++)&&n.next(r)}))})}},9753:(e,t,r)=>{"use strict";let n;r.d(t,{V2:()=>N,FS:()=>B,IM:()=>V,Tx:()=>F,Rr:()=>z,vd:()=>L,_K:()=>D,CC:()=>M,RM:()=>J,Uc:()=>H,tP:()=>W});let i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},s=new Uint8Array(16),o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));let a=function(e,t,r){if(i.randomUUID&&!t&&!e)return i.randomUUID();let a=(e=e||{}).random??e.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(s)}();if(a.length<16)throw Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(a)};var u=r(898),c=r(9632),l=r(9620),f=r(647),h=r(9340),d=r(2789),p=r(9249),y=r(7173),g=r(4354),v=r(9953),m=r(6534),b=r(1208),w=r(781),_=["addListener","removeListener"],E=["addEventListener","removeEventListener"],x=["on","off"];function S(e,t,r,n){if((0,b.T)(r)&&(n=r,r=void 0),n)return S(e,t,r).pipe((0,w.I)(n));var i,s,o,a=(0,p.zs)((i=e,(0,b.T)(i.addEventListener)&&(0,b.T)(i.removeEventListener))?E.map(function(n){return function(i){return e[n](t,i,r)}}):(s=e,(0,b.T)(s.addListener)&&(0,b.T)(s.removeListener))?_.map(C(e,t)):(o=e,(0,b.T)(o.on)&&(0,b.T)(o.off))?x.map(C(e,t)):[],2),u=a[0],c=a[1];if(!u&&(0,m.X)(e))return(0,v.Z)(function(e){return S(e,t,r)})((0,y.Tg)(e));if(!u)throw TypeError("Invalid event target");return new g.c(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return u(t),function(){return c(t)}})}function C(e,t){return function(r){return function(n){return e[r](t,n)}}}var T=r(793),I=r(8580),R=r(9647),O=r(1125),j=r(556),A=r(575),k=r(9332);function $(e){return e<=0?function(){return k.w}:(0,O.N)(function(t,r){var n=0;t.subscribe((0,j._)(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}var q=r(7020);let P=e=>({context:t})=>{let{count:r,include:n,exclude:i,responseType:s="message.received"}=e;return{count:r,domain:t.domain,from:t.connectTo,include:n?Array.isArray(n)?n:[n]:[],exclude:i?Array.isArray(i)?i:[i]:[],responseType:s,target:t.target,to:t.name}},U=(0,d.v)(()=>S(window,"message")),M=e=>(0,u.OX)(({input:t})=>{let r;return U.pipe(e?(0,T.T)(e):(0,I.F)(),(0,R.p)((e=>t=>{let{data:r}=t;return(!e.include.length||e.include.includes(r.type))&&(!e.exclude.length||!e.exclude.includes(r.type))&&r.domain===e.domain&&r.from===e.from&&r.to===e.to&&(!e.target||t.source===e.target)})(t)),(0,T.T)((r=t.responseType,e=>({type:r,message:e}))),t.count?(0,I.F)(function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,(0,O.N)(function(r,n){var i=[],s=0;r.subscribe((0,j._)(n,function(r){var o,a,u,c,l=null;s++%t==0&&i.push([]);try{for(var f=(0,p.Ju)(i),h=f.next();!h.done;h=f.next()){var d=h.value;d.push(r),e<=d.length&&(l=null!=l?l:[]).push(d)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}if(l)try{for(var y=(0,p.Ju)(l),g=y.next();!g.done;g=y.next()){var d=g.value;(0,A.o)(i,d),n.next(d)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}},function(){var e,t;try{for(var r=(0,p.Ju)(i),s=r.next();!s.done;s=r.next()){var o=s.value;n.next(o)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.complete()},void 0,function(){i=null}))})}(t.count),function(e,t){return(0,b.T)(void 0)?(0,v.Z)(e,void 0,1):(0,v.Z)(e,1)}(e=>e),$(t.count)):(0,I.F)())}),N="sanity/comlink",D="comlink/response",L="comlink/heartbeat",B="comlink/disconnect",F="comlink/handshake/syn",z="comlink/handshake/syn-ack",V="comlink/handshake/ack",W=()=>(0,c.mj)({types:{},actors:{listen:(0,u.OX)(({input:e})=>{let t,r=e.signal?S(e.signal,"abort").pipe((t=`Request ${e.requestId} aborted`,e=>e.pipe($(1),(0,T.T)(()=>{throw Error(t)})))):k.w;return S(window,"message").pipe((0,R.p)(t=>t.data?.type===D&&t.data?.responseTo===e.requestId&&!!t.source&&e.sources.has(t.source)),$(e.sources.size),(0,O.N)(function(e,t){(0,y.Tg)(r).subscribe((0,j._)(t,function(){return t.complete()},q.l)),t.closed||e.subscribe(t)}))})},actions:{"send message":({context:e},t)=>{let{sources:r,targetOrigin:n}=e,{message:i}=t;r.forEach(e=>{e.postMessage(i,{targetOrigin:n})})},"on success":(0,l.b)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.response&&e.resolvable?.resolve(e.response),{type:"request.success",requestId:t.id,response:e.response,responseTo:e.responseTo})),"on fail":(0,l.b)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.suppressWarnings||console.warn(`[@sanity/comlink] Received no response to message '${e.type}' on client '${e.from}' (ID: '${e.id}').`),e.resolvable?.reject(Error("No response received")),{type:"request.failed",requestId:t.id})),"on abort":(0,l.b)(({context:e})=>e.parentRef,({context:e,self:t})=>(e.resolvable?.reject(Error("Request aborted")),{type:"request.aborted",requestId:t.id}))},guards:{expectsResponse:({context:e})=>e.expectResponse},delays:{initialTimeout:0,responseTimeout:({context:e})=>e.responseTimeout??3e3}}).createMachine({context:({input:e})=>({channelId:e.channelId,data:e.data,domain:e.domain,expectResponse:e.expectResponse??!1,from:e.from,id:`msg-${a()}`,parentRef:e.parentRef,resolvable:e.resolvable,response:null,responseTimeout:e.responseTimeout,responseTo:e.responseTo,signal:e.signal,sources:e.sources instanceof Set?e.sources:new Set([e.sources]),suppressWarnings:e.suppressWarnings,targetOrigin:e.targetOrigin,to:e.to,type:e.type}),initial:"idle",on:{abort:".aborted"},states:{idle:{after:{initialTimeout:[{target:"sending"}]}},sending:{entry:{type:"send message",params:({context:e})=>{let{channelId:t,data:r,domain:n,from:i,id:s,responseTo:o,to:a,type:u}=e;return{message:{channelId:t,data:r,domain:n,from:i,id:s,to:a,type:u,responseTo:o}}}},always:[{guard:"expectsResponse",target:"awaiting"},"success"]},awaiting:{invoke:{id:"listen for response",src:"listen",input:({context:e})=>({requestId:e.id,sources:e.sources,signal:e.signal}),onError:"aborted"},after:{responseTimeout:"failed"},on:{message:{actions:(0,f.a)({response:({event:e})=>e.data.data,responseTo:({event:e})=>e.data.responseTo}),target:"success"}}},failed:{type:"final",entry:"on fail"},success:{type:"final",entry:"on success"},aborted:{type:"final",entry:"on abort"}},output:({context:e,self:t})=>({requestId:t.id,response:e.response,responseTo:e.responseTo})});(0,u.SP)(({sendBack:e,input:t})=>{let r=()=>{e(t.event)};t.immediate&&r();let n=setInterval(r,t.interval);return()=>{clearInterval(n)}});let H=()=>(0,c.mj)({types:{},actors:{requestMachine:W(),listen:M()},actions:{"buffer handshake":(0,f.a)({handshakeBuffer:({event:e,context:t})=>((0,c.DT)(e,"message.received"),[...t.handshakeBuffer,e])}),"buffer message":(0,l.a)(({enqueue:e})=>{e.assign({buffer:({event:e,context:t})=>((0,c.DT)(e,"post"),[...t.buffer,{data:e.data,resolvable:e.resolvable,options:e.options}])}),e.emit(({event:e})=>((0,c.DT)(e,"post"),{type:"buffer.added",message:e.data}))}),"create request":(0,f.a)({requests:({context:e,event:t,self:r,spawn:n})=>{(0,c.DT)(t,"request");let i=(Array.isArray(t.data)?t.data:[t.data]).map(t=>n("requestMachine",{id:`req-${a()}`,input:{channelId:e.channelId,data:t.data,domain:e.domain,expectResponse:t.expectResponse,from:e.name,parentRef:r,resolvable:t.resolvable,responseTimeout:t.options?.responseTimeout,responseTo:t.responseTo,signal:t.options?.signal,sources:e.target,suppressWarnings:t.options?.suppressWarnings,targetOrigin:e.targetOrigin,to:e.connectTo,type:t.type}}));return[...e.requests,...i]}}),"emit heartbeat":(0,l.e)(()=>({type:"heartbeat"})),"emit received message":(0,l.a)(({enqueue:e})=>{e.emit(({event:e})=>((0,c.DT)(e,"message.received"),{type:"message",message:e.message.data}))}),"emit status":(0,l.e)((e,t)=>({type:"status",status:t.status})),"post message":(0,h.r)(({event:e})=>((0,c.DT)(e,"post"),{type:"request",data:{data:e.data.data,expectResponse:!!e.resolvable,type:e.data.type,resolvable:e.resolvable,options:e.options}})),"process pending handshakes":(0,l.a)(({context:e,enqueue:t})=>{e.handshakeBuffer.forEach(e=>t.raise(e)),t.assign({handshakeBuffer:[]})}),"remove request":(0,l.a)(({context:e,enqueue:t,event:r})=>{(0,c.DT)(r,["request.success","request.failed","request.aborted"]),(0,h.k)(r.requestId),t.assign({requests:e.requests.filter(({id:e})=>e!==r.requestId)})}),"send response":(0,h.r)(({event:e})=>((0,c.DT)(e,["message.received","heartbeat.received"]),{type:"request",data:{type:D,responseTo:e.message.data.id,data:void 0}})),"send handshake syn ack":(0,h.r)({type:"request",data:{type:z}}),"send pending messages":(0,l.a)(({enqueue:e})=>{e.raise(({context:e})=>({type:"request",data:e.buffer.map(({data:e,resolvable:t,options:r})=>({data:e.data,type:e.type,expectResponse:!!t,resolvable:t,options:r}))})),e.emit(({context:e})=>({type:"buffer.flushed",messages:e.buffer.map(({data:e})=>e)})),e.assign({buffer:[]})}),"set connection config":(0,f.a)({channelId:({event:e})=>((0,c.DT)(e,"handshake.syn"),e.message.data.channelId),target:({event:e})=>((0,c.DT)(e,"handshake.syn"),e.message.source||void 0),targetOrigin:({event:e})=>((0,c.DT)(e,"handshake.syn"),e.message.origin)})},guards:{hasSource:({context:e})=>null!==e.target}}).createMachine({id:"node",context:({input:e})=>({buffer:[],channelId:null,connectTo:e.connectTo,domain:e.domain??N,handshakeBuffer:[],name:e.name,requests:[],target:void 0,targetOrigin:null}),invoke:{id:"listen for handshake syn",src:"listen",input:P({include:F,responseType:"handshake.syn"})},on:{"request.success":{actions:"remove request"},"request.failed":{actions:"remove request"},"request.aborted":{actions:"remove request"},"handshake.syn":{actions:"set connection config",target:".handshaking"}},initial:"idle",states:{idle:{entry:[{type:"emit status",params:{status:"idle"}}],on:{post:{actions:"buffer message"}}},handshaking:{guard:"hasSource",entry:["send handshake syn ack",{type:"emit status",params:{status:"handshaking"}}],invoke:[{id:"listen for handshake ack",src:"listen",input:P({include:V,count:1,responseType:"handshake.complete"}),onDone:"connected"},{id:"listen for disconnect",src:"listen",input:P({include:B,count:1,responseType:"disconnect"})},{id:"listen for messages",src:"listen",input:P({exclude:[B,F,V,L,D]})}],on:{request:{actions:"create request"},post:{actions:"buffer message"},"message.received":{actions:"buffer handshake"},disconnect:{target:"idle"}}},connected:{entry:["process pending handshakes","send pending messages",{type:"emit status",params:{status:"connected"}}],invoke:[{id:"listen for messages",src:"listen",input:P({exclude:[B,F,V,L,D]})},{id:"listen for heartbeat",src:"listen",input:P({include:L,responseType:"heartbeat.received"})},{id:"listen for disconnect",src:"listen",input:P({include:B,count:1,responseType:"disconnect"})}],on:{request:{actions:"create request"},post:{actions:"post message"},disconnect:{target:"idle"},"message.received":{actions:["send response","emit received message"]},"heartbeat.received":{actions:["send response","emit heartbeat"]}}}}}),J=(e,t=H())=>{let r,n=(0,h.c)(t,{input:e}),i=new Map,s=new Map;n.on("message",({message:e})=>{let t=i.get(e.type);if(t)return void t.forEach(t=>t(e.data));let r=s.get(e.type);r?r.add(e):s.set(e.type,new Set([e]))});let o=()=>{n.stop()};return{actor:n,fetch:(e,t,r)=>{let{responseTimeout:i=1e4,signal:s,suppressWarnings:o}=r||{},a=function(){let e,t;return"function"==typeof Promise.withResolvers?Promise.withResolvers():{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}();return n.send({type:"post",data:{type:e,data:t},resolvable:a,options:{responseTimeout:i,signal:s,suppressWarnings:o}}),a.promise},machine:t,on:(e,t,r)=>{let n=i.get(e)||new Set;i.has(e)||i.set(e,n),n.add(t);let o=s.get(e);if(o){let n=r?.replay??1;Array.from(o).slice(-n).forEach(({data:e})=>t(e)),s.delete(e)}return()=>{n.delete(t)}},onStatus:(e,t)=>{let{unsubscribe:i}=n.on("status",n=>{r=n.status,t&&n.status!==t||e(n.status)});return r&&e(r),i},post:(e,t)=>{n.send({type:"post",data:{type:e,data:t}})},start:()=>(n.start(),o),stop:o}}},9833:(e,t,r)=>{"use strict";r.d(t,{Y:()=>s,l:()=>o});var n=r(329),i=null;function s(e){if(n.$.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,s=r.errorThrown,o=r.error;if(i=null,s)throw o}}else e()}function o(e){n.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},9839:(e,t,r)=>{"use strict";r.d(t,{C:()=>s,U:()=>o});var n=r(9249),i=r(1208);function s(e){return(0,n.AQ)(this,arguments,function(){var t,r,i;return(0,n.YH)(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,n.N3)(t.read())];case 3:if(i=(r=s.sent()).value,!r.done)return[3,5];return[4,(0,n.N3)(void 0)];case 4:return[2,s.sent()];case 5:return[4,(0,n.N3)(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function o(e){return(0,i.T)(null==e?void 0:e.getReader)}},9930:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});var n=r(6234),i=r(1208);function s(e){return(0,i.T)(null==e?void 0:e[n.l])}},9953:(e,t,r)=>{"use strict";r.d(t,{Z:()=>function e(t,r,u){return(void 0===u&&(u=1/0),(0,a.T)(r))?e(function(e,s){return(0,n.T)(function(t,n){return r(e,t,s,n)})((0,i.Tg)(t(e,s)))},u):("number"==typeof r&&(u=r),(0,s.N)(function(e,r){var n,s,a,c,l,f,h,d,p;return n=u,a=[],c=0,l=0,f=!1,h=function(){!f||a.length||c||r.complete()},d=function(e){return c<n?p(e):a.push(e)},p=function(e){c++;var u=!1;(0,i.Tg)(t(e,l++)).subscribe((0,o._)(r,function(e){s?d(e):r.next(e)},function(){u=!0},void 0,function(){if(u)try{for(c--;a.length&&c<n;)!function(){var e=a.shift();p(e)}();h()}catch(e){r.error(e)}}))},e.subscribe((0,o._)(r,d,function(){f=!0,h()})),function(){}}))}});var n=r(793),i=r(7173),s=r(1125),o=(r(4962),r(556)),a=r(1208)},9991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return m},MissingStaticPage:function(){return v},NormalizeError:function(){return y},PageNotFoundError:function(){return g},SP:function(){return h},ST:function(){return d},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return o},getURL:function(){return a},isAbsoluteUrl:function(){return s},isResSent:function(){return c},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return l},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return r||(r=!0,t=e(...i)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>i.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=o();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function l(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&c(r))return n;if(!n)throw Object.defineProperty(Error('"'+u(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="undefined"!=typeof performance,d=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class y extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class v extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class m extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}}}]);