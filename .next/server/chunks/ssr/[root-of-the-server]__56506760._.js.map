{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Users/gast/Workspace/ori-blog/src/lib/sanity.client.ts"],"sourcesContent":["// lib/sanity.client.ts (or src/lib/sanity.client.ts)\nimport { createClient } from 'next-sanity';\n\nexport const client = createClient({\n  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID, // Use environment variables\n  dataset: process.env.NEXT_PUBLIC_SANITY_DATASET,     // Use environment variables\n  apiVersion: '2024-07-23', // Use current date for API version\n  useCdn: process.env.NODE_ENV === 'production', // Use CDN in production for faster delivery\n});\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;AACrD;;;;;;AAEO,MAAM,SAAS,CAAA,GAAA,4HAAA,CAAA,eAAY,AAAD,EAAE;IACjC,SAAS;IACT,OAAO;IACP,YAAY;IACZ,QAAQ,oDAAyB;AACnC","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/gast/Workspace/ori-blog/src/lib/sanity.queries.ts"],"sourcesContent":["// lib/sanity.queries.ts (or src/lib/sanity.queries.ts)\nimport { groq } from 'next-sanity';\n\n// Query for all posts (for homepage/blog list)\nexport const postsQuery = groq`\n  *[_type == \"post\" && defined(slug.current)] | order(publishedAt desc) {\n    _id,\n    title,\n    slug,\n    publishedAt,\n    excerpt,\n    mainImage {\n      asset->{\n        _id,\n        url\n      },\n      alt\n    },\n    \"authorName\": author->name,\n    \"categories\": categories[]->title\n  }\n`;\n\n// Query for a single post by slug\nexport const postQuery = groq`\n  *[_type == \"post\" && slug.current == $slug][0] {\n    _id,\n    title,\n    slug,\n    publishedAt,\n    \"authorName\": author->name,\n    \"authorImage\": author->image,\n    \"categories\": categories[]->title,\n    mainImage {\n      asset->{\n        _id,\n        url\n      },\n      alt\n    },\n    body // This is your Portable Text content\n  }\n`;\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;AACvD;;;;;;AAGO,MAAM,aAAa,4HAAA,CAAA,OAAI,CAAC;;;;;;;;;;;;;;;;;AAiB/B,CAAC;AAGM,MAAM,YAAY,4HAAA,CAAA,OAAI,CAAC;;;;;;;;;;;;;;;;;;AAkB9B,CAAC","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/gast/Workspace/ori-blog/src/lib/sanity.image.ts"],"sourcesContent":["// lib/sanity.image.ts\nimport createImageUrlBuilder from '@sanity/image-url';\nimport type { Image as SanityImage } from 'sanity'; // if you have Sanity types installed\n\nimport { client } from './sanity.client'; // Adjust path if needed\n\nconst imageBuilder = createImageUrlBuilder(client);\n\nexport const urlFor = (source: SanityImage) => {\n  return imageBuilder.image(source);\n};\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;AACtB;AAGA,gNAA0C,wBAAwB;;;;;;;AAElE,MAAM,eAAe,CAAA,GAAA,yIAAA,CAAA,UAAqB,AAAD,EAAE,uHAAA,CAAA,SAAM;AAE1C,MAAM,SAAS,CAAC;IACrB,OAAO,aAAa,KAAK,CAAC;AAC5B","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/gast/Workspace/ori-blog/src/pages/posts/%5Bslug%5D.tsx"],"sourcesContent":["// pages/posts/[slug].tsx\nimport Head from 'next/head';\nimport { client } from '../../lib/sanity.client';\nimport { postsQuery, postQuery } from '../../lib/sanity.queries';\nimport { PortableText } from '@portabletext/react';\nimport { urlFor } from '../../lib/sanity.image'; // You'll create this next\nimport Image from 'next/image'; // For Next.js Image component\n\n// This is optional: define custom components for Portable Text rendering\nconst PortableTextComponents = {\n  types: {\n    image: ({ value }) => {\n      if (!value?.asset?._ref) {\n        return null;\n      }\n      return (\n        <Image\n          src={urlFor(value).width(800).url()}\n          alt={value.alt || 'Blog image'}\n          layout=\"responsive\" // Or \"fill\", \"fixed\", \"intrinsic\"\n          width={800} // Example width\n          height={500} // Example height\n          style={{ display: 'block', margin: '20px auto' }}\n        />\n      );\n    },\n    code: ({ value }) => (\n      <pre data-language={value.language}>\n        <code>{value.code}</code>\n      </pre>\n    ),\n  },\n  block: {\n    h1: ({ children }) => <h1 className=\"text-4xl my-4\">{children}</h1>,\n    h2: ({ children }) => <h2 className=\"text-3xl my-3\">{children}</h2>,\n    // ... add more heading styles\n  },\n  list: {\n    bullet: ({ children }) => <ul className=\"list-disc ml-8 my-4\">{children}</ul>,\n    number: ({ children }) => <ol className=\"list-decimal ml-8 my-4\">{children}</ol>,\n  },\n  marks: {\n    link: ({ children, value }) => {\n      const rel = !value.href.startsWith('/') ? 'noreferrer noopener' : undefined;\n      return (\n        <a href={value.href} rel={rel} target={rel ? '_blank' : '_self'}>\n          {children}\n        </a>\n      );\n    },\n    // Custom mark for code (inline code)\n    // code: ({ children }) => <code>{children}</code>,\n  },\n};\n\nexport default function PostPage({ post }) {\n  if (!post) {\n    return <div>Loading...</div>; // Or a custom 404 page\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\n      <Head>\n        <title>{post.title} | My Blog</title>\n        <meta name=\"description\" content={post.excerpt} />\n        {/* Canonical Tag for SEO: Point to YOUR URL */}\n        <link rel=\"canonical\" href={`https://yourwebsite.com/posts/${post.slug.current}`} />\n        {/* If you want search engines to prefer Substack, point to Substack: */}\n        {/* <link rel=\"canonical\" href={post.linkToSubstack} /> */}\n      </Head>\n\n      <article>\n        <h1>{post.title}</h1>\n        <p style={{ fontSize: '0.9em', color: '#666', marginBottom: '20px' }}>\n          By {post.authorName} on {new Date(post.publishedAt).toLocaleDateString()}\n        </p>\n\n        {post.mainImage && (\n          <Image\n            src={urlFor(post.mainImage).width(800).url()}\n            alt={post.mainImage.alt || post.title}\n            layout=\"responsive\"\n            width={800}\n            height={450} // Adjust as needed\n            priority // Preload the main image\n            style={{ marginBottom: '30px' }}\n          />\n        )}\n\n        <div className=\"prose\" style={{ lineHeight: '1.7', fontSize: '1.1em' }}>\n          <PortableText value={post.body} components={PortableTextComponents} />\n        </div>\n      </article>\n    </div>\n  );\n}\n\nexport async function getStaticPaths() {\n  const posts = await client.fetch(postsQuery);\n  const paths = posts.map((post) => ({\n    params: { slug: post.slug.current },\n  }));\n\n  return {\n    paths,\n    fallback: 'blocking', // or true if you want to show a loading state for new pages\n  };\n}\n\nexport async function getStaticProps({ params }) {\n  const post = await client.fetch(postQuery, { slug: params.slug });\n\n  if (!post) {\n    return {\n      notFound: true,\n    };\n  }\n\n  return {\n    props: {\n      post,\n    },\n    revalidate: 60, // Revalidate every 60 seconds (ISR)\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}